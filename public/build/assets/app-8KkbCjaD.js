/*!
Turbo 8.0.19
Copyright Â© 2025 37signals LLC
 */(function(s){if(typeof s.requestSubmit=="function")return;s.requestSubmit=function(i){i?(e(i,this),i.click()):(i=document.createElement("input"),i.type="submit",i.hidden=!0,this.appendChild(i),i.click(),this.removeChild(i))};function e(i,r){i instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),i.type=="submit"||t(TypeError,"The specified element is not a submit button"),i.form==r||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(i,r,n){throw new i("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+r+".",n)}})(HTMLFormElement.prototype);const Xr=new WeakMap;function qo(s){const e=s instanceof Element?s:s instanceof Node?s.parentElement:null,t=e?e.closest("input, button"):null;return t?.type=="submit"?t:null}function Wo(s){const e=qo(s.target);e&&e.form&&Xr.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let s=window.Event.prototype;if("SubmitEvent"in window){const e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))s=e;else return}addEventListener("click",Wo,!0),Object.defineProperty(s,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return Xr.get(this.target)}})})();const Je={eager:"eager",lazy:"lazy"};class re extends HTMLElement{static delegateConstructor=void 0;loaded=Promise.resolve();static get observedAttributes(){return["disabled","loading","src"]}constructor(){super(),this.delegate=new re.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="src"?this.delegate.sourceURLChanged():e=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(e){e?this.setAttribute("refresh",e):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return jo(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}}function jo(s){switch(s.toLowerCase()){case"lazy":return Je.lazy;default:return Je.eager}}const Uo={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function wt(s){if(s.getAttribute("data-turbo-eval")=="false")return s;{const e=document.createElement("script"),t=rn();return t&&(e.nonce=t),e.textContent=s.textContent,e.async=!1,Ko(e,s),e}}function Ko(s,e){for(const{name:t,value:i}of e.attributes)s.setAttribute(t,i)}function zo(s){const e=document.createElement("template");return e.innerHTML=s,e.content}function D(s,{target:e,cancelable:t,detail:i}={}){const r=new CustomEvent(s,{cancelable:t,bubbles:!0,composed:!0,detail:i});return e&&e.isConnected?e.dispatchEvent(r):document.documentElement.dispatchEvent(r),r}function ji(s){s.preventDefault(),s.stopImmediatePropagation()}function _t(){return document.visibilityState==="hidden"?Zr():Jr()}function Jr(){return new Promise(s=>requestAnimationFrame(()=>s()))}function Zr(){return new Promise(s=>setTimeout(()=>s(),0))}function Yo(){return Promise.resolve()}function en(s=""){return new DOMParser().parseFromString(s,"text/html")}function tn(s,...e){const t=Go(s,e).replace(/^\n/,"").split(`
`),i=t[0].match(/^\s+/),r=i?i[0].length:0;return t.map(n=>n.slice(r)).join(`
`)}function Go(s,e){return s.reduce((t,i,r)=>{const n=e[r]==null?"":e[r];return t+i+n},"")}function ye(){return Array.from({length:36}).map((s,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function Zt(s,...e){for(const t of e.map(i=>i?.getAttribute(s)))if(typeof t=="string")return t;return null}function Qo(s,...e){return e.some(t=>t&&t.hasAttribute(s))}function es(...s){for(const e of s)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function ts(...s){for(const e of s)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function Xo(s,e=2e3){return new Promise(t=>{const i=()=>{s.removeEventListener("error",i),s.removeEventListener("load",i),t()};s.addEventListener("load",i,{once:!0}),s.addEventListener("error",i,{once:!0}),setTimeout(t,e)})}function sn(s){switch(s){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function Jo(s){return s=="advance"||s=="replace"||s=="restore"}function xe(...s){const e=Zt("data-turbo-action",...s);return Jo(e)?e:null}function ri(s){return document.querySelector(`meta[name="${s}"]`)}function ss(s){const e=ri(s);return e&&e.content}function rn(){const s=ri("csp-nonce");if(s){const{nonce:e,content:t}=s;return e==""?t:e}}function Zo(s,e){let t=ri(s);return t||(t=document.createElement("meta"),t.setAttribute("name",s),document.head.appendChild(t)),t.setAttribute("content",e),t}function tt(s,e){if(s instanceof Element)return s.closest(e)||tt(s.assignedSlot||s.getRootNode()?.host,e)}function ni(s){return!!s&&s.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof s.focus=="function"}function nn(s){return Array.from(s.querySelectorAll("[autofocus]")).find(ni)}async function ea(s,e){const t=e();s(),await Jr();const i=e();return[t,i]}function on(s){if(s==="_blank")return!1;if(s){for(const e of document.getElementsByName(s))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function an(s){const e=tt(s,"a[href], a[xlink\\:href]");return!e||e.hasAttribute("download")||e.hasAttribute("target")&&e.target!=="_self"?null:e}function ln(s){return H(s.getAttribute("href")||"")}function ta(s,e){let t=null;return(...i)=>{const r=()=>s.apply(this,i);clearTimeout(t),t=setTimeout(r,e)}}const sa={"aria-disabled":{beforeSubmit:s=>{s.setAttribute("aria-disabled","true"),s.addEventListener("click",ji)},afterSubmit:s=>{s.removeAttribute("aria-disabled"),s.removeEventListener("click",ji)}},disabled:{beforeSubmit:s=>s.disabled=!0,afterSubmit:s=>s.disabled=!1}};let ia=class{#e=null;constructor(e){Object.assign(this,e)}get submitter(){return this.#e}set submitter(e){this.#e=sa[e]||e}};const ra=new ia({mode:"on",submitter:"disabled"}),x={drive:Uo,forms:ra};function H(s){return new URL(s.toString(),document.baseURI)}function Fe(s){let e;if(s.hash)return s.hash.slice(1);if(e=s.href.match(/#(.*)$/))return e[1]}function oi(s,e){const t=e?.getAttribute("formaction")||s.getAttribute("action")||s.action;return H(t)}function na(s){return(la(s).match(/\.[^.]*$/)||[])[0]||""}function oa(s,e){const t=Ui(e.origin+e.pathname);return Ui(s.href)===t||s.href.startsWith(t)}function Ee(s,e){return oa(s,e)&&!x.drive.unvisitableExtensions.has(na(s))}function Gs(s){const e=Fe(s);return e!=null?s.href.slice(0,-(e.length+1)):s.href}function $t(s){return Gs(s)}function cn(s,e){return H(s).href==H(e).href}function aa(s){return s.pathname.split("/").slice(1)}function la(s){return aa(s).slice(-1)[0]}function Ui(s){return s.endsWith("/")?s:s+"/"}class ai{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return H(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}class ca extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){const i=this.values().next().value;this.delete(i)}super.add(e)}}const un=new ca(20);function dn(s,e={}){const t=new Headers(e.headers||{}),i=ye();return un.add(i),t.append("X-Turbo-Request-Id",i),window.fetch(s,{...e,headers:t})}function li(s){switch(s.toLowerCase()){case"get":return Q.get;case"post":return Q.post;case"put":return Q.put;case"patch":return Q.patch;case"delete":return Q.delete}}const Q={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function ua(s){switch(s.toLowerCase()){case ke.multipart:return ke.multipart;case ke.plain:return ke.plain;default:return ke.urlEncoded}}const ke={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"};class Tt{abortController=new AbortController;#e=e=>{};constructor(e,t,i,r=new URLSearchParams,n=null,o=ke.urlEncoded){const[a,l]=Ki(H(i),t,r,o);this.delegate=e,this.url=a,this.target=n,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:l,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=o}get method(){return this.fetchOptions.method}set method(e){const t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,i=li(e)||Q.get;this.url.search="";const[r,n]=Ki(this.url,i,t,this.enctype);this.url=r,this.fetchOptions.body=n,this.fetchOptions.method=i.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this);const t=await this.#t(e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=dn(this.url.href,e);const i=await this.response;return await this.receive(i)}catch(i){if(i.name!=="AbortError")throw this.#s(i)&&this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new ai(e);return D("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return ci(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async#t(e){const t=new Promise(r=>this.#e=r),i=D("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.#e},target:this.target});return this.url=i.detail.url,i.defaultPrevented&&await t,i}#s(e){return!D("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}}function ci(s){return li(s)==Q.get}function Ki(s,e,t,i){const r=Array.from(t).length>0?new URLSearchParams(hn(t)):s.searchParams;return ci(e)?[da(s,r),null]:i==ke.urlEncoded?[s,r]:[s,t]}function hn(s){const e=[];for(const[t,i]of s)i instanceof File||e.push([t,i]);return e}function da(s,e){const t=new URLSearchParams(hn(e));return s.search=t.toString(),s}class ha{started=!1;constructor(e,t){this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}intersect=e=>{e.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)}}class ut{static contentType="text/vnd.turbo-stream.html";static wrap(e){return typeof e=="string"?new this(zo(e)):e}constructor(e){this.fragment=fa(e)}}function fa(s){for(const e of s.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const i of t.templateElement.content.querySelectorAll("script"))i.replaceWith(wt(i));e.replaceWith(t)}return s}const pa=100;class ma{#e=null;#t=null;get(e){if(this.#t&&this.#t.url===e&&this.#t.expire>Date.now())return this.#t.request}setLater(e,t,i){this.clear(),this.#e=setTimeout(()=>{t.perform(),this.set(e,t,i),this.#e=null},pa)}set(e,t,i){this.#t={url:e,request:t,expire:new Date(new Date().getTime()+i)}}clear(){this.#e&&clearTimeout(this.#e),this.#t=null}}const ga=10*1e3,Ze=new ma,Ue={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"};class us{state=Ue.initialized;static confirmMethod(e){return Promise.resolve(confirm(e))}constructor(e,t,i,r=!1){const n=wa(t,i),o=ya(Ea(t,i),n),a=va(t,i),l=Sa(t,i);this.delegate=e,this.formElement=t,this.submitter=i,this.fetchRequest=new Tt(this,n,o,a,t,l),this.mustRedirect=r}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=H(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){const{initialized:e,requesting:t}=Ue,i=Zt("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof i=="string"&&!await(typeof x.forms.confirm=="function"?x.forms.confirm:us.confirmMethod)(i,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=Ue;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=ba(ss("csrf-param"))||ss("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(ut.contentType)}requestStarted(e){this.state=Ue.waiting,this.submitter&&x.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),es(this.formElement),D("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){Ze.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(Ze.clear(),this.requestMustRedirect(e)&&_a(t)){const i=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,i)}else this.state=Ue.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=Ue.stopped,this.submitter&&x.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),ts(this.formElement),D("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||Qo("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}}function va(s,e){const t=new FormData(s),i=e?.getAttribute("name"),r=e?.getAttribute("value");return i&&t.append(i,r||""),t}function ba(s){if(s!=null){const t=(document.cookie?document.cookie.split("; "):[]).find(i=>i.startsWith(s));if(t){const i=t.split("=").slice(1).join("=");return i?decodeURIComponent(i):void 0}}}function _a(s){return s.statusCode==200&&!s.redirected}function Ea(s,e){const t=typeof s.action=="string"?s.action:null;return e?.hasAttribute("formaction")?e.getAttribute("formaction")||"":s.getAttribute("action")||t||""}function ya(s,e){const t=H(s);return ci(e)&&(t.search=""),t}function wa(s,e){const t=e?.getAttribute("formmethod")||s.getAttribute("method")||"";return li(t.toLowerCase())||Q.get}function Sa(s,e){return ua(e?.getAttribute("formenctype")||s.enctype)}class ds{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return nn(this.element)}get permanentElements(){return pn(this.element)}getPermanentElementById(e){return fn(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const i of this.permanentElements){const{id:r}=i,n=e.getPermanentElementById(r);n&&(t[r]=[i,n])}return t}}function fn(s,e){return s.querySelector(`#${e}[data-turbo-permanent]`)}function pn(s){return s.querySelectorAll("[id][data-turbo-permanent]")}class ui{started=!1;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)};submitBubbled=e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,i=e.submitter||void 0;t&&Aa(t,i)&&Ta(t,i)&&this.delegate.willSubmitForm(t,i)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,i))}}}function Aa(s,e){return(e?.getAttribute("formmethod")||s.getAttribute("method"))!="dialog"}function Ta(s,e){const t=e?.getAttribute("formtarget")||s.getAttribute("target");return on(t)}class mn{#e=e=>{};#t=e=>{};constructor(e,t){this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.focusElement(t),this.scrollToElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(Fe(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:i,willRender:r,newSnapshot:n}=e,o=r;if(i)try{this.renderPromise=new Promise(c=>this.#e=c),this.renderer=e,await this.prepareToRenderSnapshot(e);const a=new Promise(c=>this.#t=c),l={resume:this.#t,render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(n,l)||await a,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(n,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.#e(void 0),delete this.renderPromise}else o&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class Ca extends mn{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new ds(this.element)}}class gn{constructor(e,t){this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickBubbled=e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent};linkClicked=e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent};willVisit=e=>{delete this.clickEvent};clickEventIsSignificant(e){const t=e.composed?e.target?.parentElement:e.target,i=an(t)||t;return i instanceof Element&&i.closest("turbo-frame, html")==this.element}}class vn{started=!1;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)};clickBubbled=e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,i=an(t);if(i&&on(i.target)){const r=ln(i);this.delegate.willFollowLinkToLocation(i,r,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(i,r))}}};clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}}class bn{constructor(e,t){this.delegate=e,this.linkInterceptor=new vn(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,i){return this.delegate.willSubmitFormLinkToLocation(e,t,i)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){const i=document.createElement("form"),r="hidden";for(const[g,f]of t.searchParams)i.append(Object.assign(document.createElement("input"),{type:r,name:g,value:f}));const n=Object.assign(t,{search:""});i.setAttribute("data-turbo","true"),i.setAttribute("action",n.href),i.setAttribute("hidden","");const o=e.getAttribute("data-turbo-method");o&&i.setAttribute("method",o);const a=e.getAttribute("data-turbo-frame");a&&i.setAttribute("data-turbo-frame",a);const l=xe(e);l&&i.setAttribute("data-turbo-action",l);const u=e.getAttribute("data-turbo-confirm");u&&i.setAttribute("data-turbo-confirm",u),e.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",()=>i.remove(),{once:!0}),requestAnimationFrame(()=>i.requestSubmit())}}class _n{static async preservingPermanentElements(e,t,i){const r=new this(e,t);r.enter(),await i(),r.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,i]=this.permanentElementMap[e];this.delegate.enteringBardo(t,i),this.replaceNewPermanentElementWithPlaceholder(i)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=La(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){this.getPlaceholderById(e.id)?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function La(s){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",s.id),e}class di{#e=null;static renderElement(e,t){}constructor(e,t,i,r=!0){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=i,this.willRender=r,this.renderElement=this.constructor.renderElement,this.promise=new Promise((n,o)=>this.resolvingFunctions={resolve:n,reject:o})}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await _n.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){const e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){this.#e||e.contains(this.currentSnapshot.activeElement)&&(this.#e=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.#e)&&this.#e instanceof HTMLElement&&(this.#e.focus(),this.#e=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}}class hi extends di{static renderElement(e,t){const i=document.createRange();i.selectNodeContents(e),i.deleteContents();const r=t,n=r.ownerDocument?.createRange();n&&(n.selectNodeContents(r),e.appendChild(n.extractContents()))}constructor(e,t,i,r,n,o=!0){super(t,i,r,n,o),this.delegate=e}get shouldRender(){return!0}async render(){await _t(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await _t(),this.focusFirstAutofocusableElement(),await _t(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=Oa(this.currentElement.getAttribute("data-autoscroll-block"),"end"),i=Ia(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:i}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=wt(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function Oa(s,e){return s=="end"||s=="start"||s=="center"||s=="nearest"?s:e}function Ia(s,e){return s=="auto"||s=="smooth"?s:e}var Ra=(function(){const s=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:s,afterNodeAdded:s,beforeNodeMorphed:s,afterNodeMorphed:s,beforeNodeRemoved:s,afterNodeRemoved:s,beforeAttributeUpdated:s},head:{style:"merge",shouldPreserve:f=>f.getAttribute("im-preserve")==="true",shouldReAppend:f=>f.getAttribute("im-re-append")==="true",shouldRemove:s,afterHeadMorphed:s},restoreFocus:!0};function t(f,A,v={}){f=c(f);const y=g(A),C=u(f,y,v),T=r(C,()=>a(C,f,y,d=>d.morphStyle==="innerHTML"?(n(d,f,y),Array.from(f.childNodes)):i(d,f,y)));return C.pantry.remove(),T}function i(f,A,v){const y=g(A);return n(f,y,v,A,A.nextSibling),Array.from(y.childNodes)}function r(f,A){if(!f.config.restoreFocus)return A();let v=document.activeElement;if(!(v instanceof HTMLInputElement||v instanceof HTMLTextAreaElement))return A();const{id:y,selectionStart:C,selectionEnd:T}=v,d=A();return y&&y!==document.activeElement?.getAttribute("id")&&(v=f.target.querySelector(`[id="${y}"]`),v?.focus()),v&&!v.selectionEnd&&T&&v.setSelectionRange(C,T),d}const n=(function(){function f(h,p,_,m=null,S=null){p instanceof HTMLTemplateElement&&_ instanceof HTMLTemplateElement&&(p=p.content,_=_.content),m||=p.firstChild;for(const E of _.childNodes){if(m&&m!=S){const O=v(h,E,m,S);if(O){O!==m&&C(h,m,O),o(O,E,h),m=O.nextSibling;continue}}if(E instanceof Element){const O=E.getAttribute("id");if(h.persistentIds.has(O)){const R=T(p,O,m,h);o(R,E,h),m=R.nextSibling;continue}}const L=A(p,E,m,h);L&&(m=L.nextSibling)}for(;m&&m!=S;){const E=m;m=m.nextSibling,y(h,E)}}function A(h,p,_,m){if(m.callbacks.beforeNodeAdded(p)===!1)return null;if(m.idMap.has(p)){const S=document.createElement(p.tagName);return h.insertBefore(S,_),o(S,p,m),m.callbacks.afterNodeAdded(S),S}else{const S=document.importNode(p,!0);return h.insertBefore(S,_),m.callbacks.afterNodeAdded(S),S}}const v=(function(){function h(m,S,E,L){let O=null,R=S.nextSibling,N=0,M=E;for(;M&&M!=L;){if(_(M,S)){if(p(m,M,S))return M;O===null&&(m.idMap.has(M)||(O=M))}if(O===null&&R&&_(M,R)&&(N++,R=R.nextSibling,N>=2&&(O=void 0)),m.activeElementAndParents.includes(M))break;M=M.nextSibling}return O||null}function p(m,S,E){let L=m.idMap.get(S),O=m.idMap.get(E);if(!O||!L)return!1;for(const R of L)if(O.has(R))return!0;return!1}function _(m,S){const E=m,L=S;return E.nodeType===L.nodeType&&E.tagName===L.tagName&&(!E.getAttribute?.("id")||E.getAttribute?.("id")===L.getAttribute?.("id"))}return h})();function y(h,p){if(h.idMap.has(p))b(h.pantry,p,null);else{if(h.callbacks.beforeNodeRemoved(p)===!1)return;p.parentNode?.removeChild(p),h.callbacks.afterNodeRemoved(p)}}function C(h,p,_){let m=p;for(;m&&m!==_;){let S=m;m=m.nextSibling,y(h,S)}return m}function T(h,p,_,m){const S=m.target.getAttribute?.("id")===p&&m.target||m.target.querySelector(`[id="${p}"]`)||m.pantry.querySelector(`[id="${p}"]`);return d(S,m),b(h,S,_),S}function d(h,p){const _=h.getAttribute("id");for(;h=h.parentNode;){let m=p.idMap.get(h);m&&(m.delete(_),m.size||p.idMap.delete(h))}}function b(h,p,_){if(h.moveBefore)try{h.moveBefore(p,_)}catch{h.insertBefore(p,_)}else h.insertBefore(p,_)}return f})(),o=(function(){function f(d,b,h){return h.ignoreActive&&d===document.activeElement?null:(h.callbacks.beforeNodeMorphed(d,b)===!1||(d instanceof HTMLHeadElement&&h.head.ignore||(d instanceof HTMLHeadElement&&h.head.style!=="morph"?l(d,b,h):(A(d,b,h),T(d,h)||n(h,d,b))),h.callbacks.afterNodeMorphed(d,b)),d)}function A(d,b,h){let p=b.nodeType;if(p===1){const _=d,m=b,S=_.attributes,E=m.attributes;for(const L of E)C(L.name,_,"update",h)||_.getAttribute(L.name)!==L.value&&_.setAttribute(L.name,L.value);for(let L=S.length-1;0<=L;L--){const O=S[L];if(O&&!m.hasAttribute(O.name)){if(C(O.name,_,"remove",h))continue;_.removeAttribute(O.name)}}T(_,h)||v(_,m,h)}(p===8||p===3)&&d.nodeValue!==b.nodeValue&&(d.nodeValue=b.nodeValue)}function v(d,b,h){if(d instanceof HTMLInputElement&&b instanceof HTMLInputElement&&b.type!=="file"){let p=b.value,_=d.value;y(d,b,"checked",h),y(d,b,"disabled",h),b.hasAttribute("value")?_!==p&&(C("value",d,"update",h)||(d.setAttribute("value",p),d.value=p)):C("value",d,"remove",h)||(d.value="",d.removeAttribute("value"))}else if(d instanceof HTMLOptionElement&&b instanceof HTMLOptionElement)y(d,b,"selected",h);else if(d instanceof HTMLTextAreaElement&&b instanceof HTMLTextAreaElement){let p=b.value,_=d.value;if(C("value",d,"update",h))return;p!==_&&(d.value=p),d.firstChild&&d.firstChild.nodeValue!==p&&(d.firstChild.nodeValue=p)}}function y(d,b,h,p){const _=b[h],m=d[h];if(_!==m){const S=C(h,d,"update",p);S||(d[h]=b[h]),_?S||d.setAttribute(h,""):C(h,d,"remove",p)||d.removeAttribute(h)}}function C(d,b,h,p){return d==="value"&&p.ignoreActiveValue&&b===document.activeElement?!0:p.callbacks.beforeAttributeUpdated(d,b,h)===!1}function T(d,b){return!!b.ignoreActiveValue&&d===document.activeElement&&d!==document.body}return f})();function a(f,A,v,y){if(f.head.block){const C=A.querySelector("head"),T=v.querySelector("head");if(C&&T){const d=l(C,T,f);return Promise.all(d).then(()=>{const b=Object.assign(f,{head:{block:!1,ignore:!0}});return y(b)})}}return y(f)}function l(f,A,v){let y=[],C=[],T=[],d=[],b=new Map;for(const p of A.children)b.set(p.outerHTML,p);for(const p of f.children){let _=b.has(p.outerHTML),m=v.head.shouldReAppend(p),S=v.head.shouldPreserve(p);_||S?m?C.push(p):(b.delete(p.outerHTML),T.push(p)):v.head.style==="append"?m&&(C.push(p),d.push(p)):v.head.shouldRemove(p)!==!1&&C.push(p)}d.push(...b.values());let h=[];for(const p of d){let _=document.createRange().createContextualFragment(p.outerHTML).firstChild;if(v.callbacks.beforeNodeAdded(_)!==!1){if("href"in _&&_.href||"src"in _&&_.src){let m,S=new Promise(function(E){m=E});_.addEventListener("load",function(){m()}),h.push(S)}f.appendChild(_),v.callbacks.afterNodeAdded(_),y.push(_)}}for(const p of C)v.callbacks.beforeNodeRemoved(p)!==!1&&(f.removeChild(p),v.callbacks.afterNodeRemoved(p));return v.head.afterHeadMorphed(f,{added:y,kept:T,removed:C}),h}const u=(function(){function f(h,p,_){const{persistentIds:m,idMap:S}=d(h,p),E=A(_),L=E.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(L))throw`Do not understand how to morph style ${L}`;return{target:h,newContent:p,config:E,morphStyle:L,ignoreActive:E.ignoreActive,ignoreActiveValue:E.ignoreActiveValue,restoreFocus:E.restoreFocus,idMap:S,persistentIds:m,pantry:v(),activeElementAndParents:y(h),callbacks:E.callbacks,head:E.head}}function A(h){let p=Object.assign({},e);return Object.assign(p,h),p.callbacks=Object.assign({},e.callbacks,h.callbacks),p.head=Object.assign({},e.head,h.head),p}function v(){const h=document.createElement("div");return h.hidden=!0,document.body.insertAdjacentElement("afterend",h),h}function y(h){let p=[],_=document.activeElement;if(_?.tagName!=="BODY"&&h.contains(_))for(;_&&(p.push(_),_!==h);)_=_.parentElement;return p}function C(h){let p=Array.from(h.querySelectorAll("[id]"));return h.getAttribute?.("id")&&p.push(h),p}function T(h,p,_,m){for(const S of m){const E=S.getAttribute("id");if(p.has(E)){let L=S;for(;L;){let O=h.get(L);if(O==null&&(O=new Set,h.set(L,O)),O.add(E),L===_)break;L=L.parentElement}}}}function d(h,p){const _=C(h),m=C(p),S=b(_,m);let E=new Map;T(E,S,h,_);const L=p.__idiomorphRoot||p;return T(E,S,L,m),{persistentIds:S,idMap:E}}function b(h,p){let _=new Set,m=new Map;for(const{id:E,tagName:L}of h)m.has(E)?_.add(E):m.set(E,L);let S=new Set;for(const{id:E,tagName:L}of p)S.has(E)?_.add(E):m.get(E)===L&&S.add(E);for(const E of _)S.delete(E);return S}return f})(),{normalizeElement:c,normalizeParent:g}=(function(){const f=new WeakSet;function A(T){return T instanceof Document?T.documentElement:T}function v(T){if(T==null)return document.createElement("div");if(typeof T=="string")return v(C(T));if(f.has(T))return T;if(T instanceof Node){if(T.parentNode)return new y(T);{const d=document.createElement("div");return d.append(T),d}}else{const d=document.createElement("div");for(const b of[...T])d.append(b);return d}}class y{constructor(d){this.originalNode=d,this.realParentNode=d.parentNode,this.previousSibling=d.previousSibling,this.nextSibling=d.nextSibling}get childNodes(){const d=[];let b=this.previousSibling?this.previousSibling.nextSibling:this.realParentNode.firstChild;for(;b&&b!=this.nextSibling;)d.push(b),b=b.nextSibling;return d}querySelectorAll(d){return this.childNodes.reduce((b,h)=>{if(h instanceof Element){h.matches(d)&&b.push(h);const p=h.querySelectorAll(d);for(let _=0;_<p.length;_++)b.push(p[_])}return b},[])}insertBefore(d,b){return this.realParentNode.insertBefore(d,b)}moveBefore(d,b){return this.realParentNode.moveBefore(d,b)}get __idiomorphRoot(){return this.originalNode}}function C(T){let d=new DOMParser,b=T.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(b.match(/<\/html>/)||b.match(/<\/head>/)||b.match(/<\/body>/)){let h=d.parseFromString(T,"text/html");if(b.match(/<\/html>/))return f.add(h),h;{let p=h.firstChild;return p&&f.add(p),p}}else{let p=d.parseFromString("<body><template>"+T+"</template></body>","text/html").body.querySelector("template").content;return f.add(p),p}}return{normalizeElement:A,normalizeParent:v}})();return{morph:t,defaults:e}})();function hs(s,e,{callbacks:t,...i}={}){Ra.morph(s,e,{...i,callbacks:new Na(t)})}function fi(s,e,t={}){hs(s,e.childNodes,{...t,morphStyle:"innerHTML"})}function En(s,e){return s instanceof re&&s.shouldReloadWithMorph&&(!e||Pa(s,e))&&!s.closest("[data-turbo-permanent]")}function Pa(s,e){return e instanceof Element&&e.nodeName==="TURBO-FRAME"&&s.id===e.id&&(!e.getAttribute("src")||cn(s.src,e.getAttribute("src")))}function yn(s){return s.parentElement.closest("turbo-frame[src][refresh=morph]")}class Na{#e;constructor({beforeNodeMorphed:e}={}){this.#e=e||(()=>!0)}beforeNodeAdded=e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id));beforeNodeMorphed=(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&this.#e(e,t)?!D("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1};beforeAttributeUpdated=(e,t,i)=>!D("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:i}}).defaultPrevented;beforeNodeRemoved=e=>this.beforeNodeMorphed(e);afterNodeMorphed=(e,t)=>{e instanceof Element&&D("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})}}class wn extends hi{static renderElement(e,t){D("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),fi(e,t,{callbacks:{beforeNodeMorphed:(i,r)=>En(i,r)&&yn(i)===e?(i.reload(),!1):!0}})}async preservingPermanentElements(e){return await e()}}class _e{static animationDuration=300;static get defaultCSS(){return tn`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${_e.animationDuration}ms ease-out,
          opacity ${_e.animationDuration/2}ms ${_e.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}hiding=!1;value=0;visible=!1;constructor(){this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,_e.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,_e.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}trickle=()=>{this.setValue(this.value+Math.random()/100)};refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const e=document.createElement("style");e.type="text/css",e.textContent=_e.defaultCSS;const t=rn();return t&&(e.nonce=t),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}}class Da extends ds{detailsByOuterHTML=this.children.filter(e=>!xa(e)).map(e=>Va(e)).reduce((e,t)=>{const{outerHTML:i}=t,r=i in e?e[i]:{type:ka(t),tracked:Ma(t),elements:[]};return{...e,[i]:{...r,elements:[...r.elements,t]}}},{});get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(i=>!(i in t.detailsByOuterHTML)).map(i=>this.detailsByOuterHTML[i]).filter(({type:i})=>i==e).map(({elements:[i]})=>i)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{const{type:i,tracked:r,elements:n}=this.detailsByOuterHTML[t];return i==null&&!r?[...e,...n]:n.length>1?[...e,...n.slice(1)]:e},[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,i)=>{const{elements:[r]}=this.detailsByOuterHTML[i];return Ha(r,e)?r:t},void 0|void 0)}}function ka(s){if($a(s))return"script";if(Fa(s))return"stylesheet"}function Ma(s){return s.getAttribute("data-turbo-track")=="reload"}function $a(s){return s.localName=="script"}function xa(s){return s.localName=="noscript"}function Fa(s){const e=s.localName;return e=="style"||e=="link"&&s.getAttribute("rel")=="stylesheet"}function Ha(s,e){return s.localName=="meta"&&s.getAttribute("name")==e}function Va(s){return s.hasAttribute("nonce")&&s.setAttribute("nonce",""),s}class ie extends ds{static fromHTMLString(e=""){return this.fromDocument(en(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:i}){return new this(e,t,new Da(i))}constructor(e,t,i){super(t),this.documentElement=e,this.headSnapshot=i}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),i=e.querySelectorAll("select");for(const[r,n]of t.entries()){const o=i[r];for(const a of o.selectedOptions)a.selected=!1;for(const a of n.selectedOptions)o.options[a.index].selected=!0}for(const r of e.querySelectorAll('input[type="password"]'))r.value="";return new ie(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){const e=this.getSetting("root")??"/";return H(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return(this.getSetting("view-transition")==="true"||this.headSnapshot.getMetaValue("view-transition")==="same-origin")&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}class Ba{#e=!1;#t=Promise.resolve();renderChange(e,t){return e&&this.viewTransitionsAvailable&&!this.#e?(this.#e=!0,this.#t=this.#t.then(async()=>{await document.startViewTransition(t).finished})):this.#t=this.#t.then(t),this.#t}get viewTransitionsAvailable(){return document.startViewTransition}}const qa={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},xt={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},de={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},st={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},Wa={advance:"forward",restore:"back",replace:"none"};class ja{identifier=ye();timingMetrics={};followedRedirect=!1;historyChanged=!1;scrolled=!1;shouldCacheSnapshot=!0;acceptsStreamResponse=!1;snapshotCached=!1;state=de.initialized;viewTransitioner=new Ba;constructor(e,t,i,r={}){this.delegate=e,this.location=t,this.restorationIdentifier=i||ye();const{action:n,historyChanged:o,referrer:a,snapshot:l,snapshotHTML:u,response:c,visitCachedSnapshot:g,willRender:f,updateHistory:A,shouldCacheSnapshot:v,acceptsStreamResponse:y,direction:C}={...qa,...r};this.action=n,this.historyChanged=o,this.referrer=a,this.snapshot=l,this.snapshotHTML=u,this.response=c,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=g,this.willRender=f,this.updateHistory=A,this.scrolled=!f,this.shouldCacheSnapshot=v,this.acceptsStreamResponse=y,this.direction=C||Wa[n]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==de.initialized&&(this.recordTimingMetric(xt.visitStart),this.state=de.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==de.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=de.canceled)}complete(){this.state==de.started&&(this.recordTimingMetric(xt.visitEnd),this.adapter.visitCompleted(this),this.state=de.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==de.started&&(this.state=de.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){const e=this.location.href===this.referrer?.href?"replace":this.action,t=sn(e);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Tt(this,Q.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(xt.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;zi(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(xt.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,zi(e)&&t!=null){const i=ie.fromHTMLString(t);await this.renderPageSnapshot(i,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(ie.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!Fe(this.location)||e.hasAnchor(Fe(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return ie.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(ut.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const i=await t.responseHTML,{redirected:r,statusCode:n}=t;i==null?this.recordResponse({statusCode:st.contentTypeMismatch,redirected:r}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:n,responseHTML:i,redirected:r}))}async requestFailedWithResponse(e,t){const i=await t.responseHTML,{redirected:r,statusCode:n}=t;i==null?this.recordResponse({statusCode:st.contentTypeMismatch,redirected:r}):this.recordResponse({statusCode:n,responseHTML:i,redirected:r})}requestErrored(e,t){this.recordResponse({statusCode:st.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=Fe(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>t(),0):requestAnimationFrame(()=>t())}),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function zi(s){return s>=200&&s<300}class Ua{progressBar=new _e;constructor(e){this.session=e}visitProposedToLocation(e,t){Ee(e,this.navigator.rootLocation)?this.navigator.startVisit(e,t?.restorationIdentifier||ye(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,this.redirectedToLocation=null,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse(),e.response.redirected&&(this.redirectedToLocation=e.redirectedToLocation)}visitRequestFailedWithStatusCode(e,t){switch(t){case st.networkFailure:case st.timeoutFailure:case st.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}showProgressBar=()=>{this.progressBar.show()};reload(e){D("turbo:reload",{detail:e}),window.location.href=(this.redirectedToLocation||this.location)?.toString()||window.location.href}get navigator(){return this.session.navigator}}class Ka{selector="[data-turbo-temporary]";deprecatedSelector="[data-turbo-cache=false]";started=!1;start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}removeTemporaryElements=e=>{for(const t of this.temporaryElements)t.remove()};get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}}class za{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new gn(this,t),this.formSubmitObserver=new ui(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,i){return this.#t(e)}linkClickIntercepted(e,t,i){const r=this.#s(e);r&&r.delegate.linkClickIntercepted(e,t,i)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&this.#e(e,t)&&this.#t(e,t)}formSubmitted(e,t){const i=this.#s(e,t);i&&i.delegate.formSubmitted(e,t)}#e(e,t){const i=oi(e,t),r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),n=H(r?.content??"/");return this.#t(e,t)&&Ee(i,n)}#t(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const r=this.#s(e,t);return r?r!=e.closest("turbo-frame"):!1}else return!1}#s(e,t){const i=t?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(i&&i!="_top"){const r=this.element.querySelector(`#${i}:not([disabled])`);if(r instanceof re)return r}}}class Ya{location;restorationIdentifier=ye();restorationData={};started=!1;pageLoaded=!1;currentIndex=0;constructor(e){this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,i=ye()){e===history.pushState&&++this.currentIndex;const r={turbo:{restorationIdentifier:i,restorationIndex:this.currentIndex}};e.call(history,r,"",t.href),this.location=t,this.restorationIdentifier=i}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,i=this.restorationData[t];this.restorationData[t]={...i,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}onPopState=e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:i,restorationIndex:r}=t;this.restorationIdentifier=i;const n=r>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,i,n),this.currentIndex=r}}};onPageLoad=async e=>{await Yo(),this.pageLoaded=!0};shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}class Ga{started=!1;#e=null;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",this.#t,{once:!0}):this.#t())}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",this.#s,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",this.#n,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",this.#r,!0),this.started=!1)}#t=()=>{this.eventTarget.addEventListener("mouseenter",this.#s,{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",this.#n,{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",this.#r,!0),this.started=!0};#s=e=>{if(ss("turbo-prefetch")==="false")return;const t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&this.#l(t)){const r=t,n=ln(r);if(this.delegate.canPrefetchRequestToLocation(r,n)){this.#e=r;const o=new Tt(this,Q.get,n,new URLSearchParams,t);o.fetchOptions.priority="low",Ze.setLater(n.toString(),o,this.#i)}}};#n=e=>{e.target===this.#e&&this.#o()};#o=()=>{Ze.clear(),this.#e=null};#r=e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){const t=Ze.get(e.detail.url.toString());t&&(e.detail.fetchRequest=t),Ze.clear()}};prepareRequest(e){const t=e.target;e.headers["X-Sec-Purpose"]="prefetch";const i=t.closest("turbo-frame"),r=t.getAttribute("data-turbo-frame")||i?.getAttribute("target")||i?.id;r&&r!=="_top"&&(e.headers["Turbo-Frame"]=r)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}get#i(){return Number(ss("turbo-prefetch-cache-time"))||ga}#l(e){return!(!e.getAttribute("href")||Qa(e)||Xa(e)||Ja(e)||Za(e)||tl(e))}}const Qa=s=>s.origin!==document.location.origin||!["http:","https:"].includes(s.protocol)||s.hasAttribute("target"),Xa=s=>s.pathname+s.search===document.location.pathname+document.location.search||s.href.startsWith("#"),Ja=s=>{if(s.getAttribute("data-turbo-prefetch")==="false"||s.getAttribute("data-turbo")==="false")return!0;const e=tt(s,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},Za=s=>{const e=s.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||el(s)||s.hasAttribute("data-turbo-confirm")||s.hasAttribute("data-turbo-stream"))},el=s=>s.hasAttribute("data-remote")||s.hasAttribute("data-behavior")||s.hasAttribute("data-confirm")||s.hasAttribute("data-method"),tl=s=>D("turbo:before-prefetch",{target:s,cancelable:!0}).defaultPrevented;class sl{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,i={}){this.stop(),this.currentVisit=new ja(this,H(e),t,{referrer:this.location,...i}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new us(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const i=await t.responseHTML;if(i){const r=e.isSafe;r||this.view.clearSnapshotCache();const{statusCode:n,redirected:o}=t,l={action:this.#e(e,t),shouldCacheSnapshot:r,response:{statusCode:n,responseHTML:i,redirected:o}};this.proposeVisit(t.location,l)}}}async formSubmissionFailedWithResponse(e,t){const i=await t.responseHTML;if(i){const r=ie.fromHTMLString(i);t.serverError?await this.view.renderError(r,this.currentVisit):await this.view.renderPage(r,!1,!0,this.currentVisit),r.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){const i=Fe(e),r=Fe(this.view.lastRenderedLocation),n=t==="restore"&&typeof i>"u";return t!=="replace"&&Gs(e)===Gs(this.view.lastRenderedLocation)&&(n||i!=null&&i!==r)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}#e(e,t){const{submitter:i,formElement:r}=e;return xe(i,r)||this.#t(t)}#t(e){return e.redirected&&e.location.href===this.location?.href?"replace":"advance"}}const Pe={initial:0,loading:1,interactive:2,complete:3};class il{stage=Pe.initial;started=!1;constructor(e){this.delegate=e}start(){this.started||(this.stage==Pe.initial&&(this.stage=Pe.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}interpretReadyState=()=>{const{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()};pageIsInteractive(){this.stage==Pe.loading&&(this.stage=Pe.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Pe.interactive&&(this.stage=Pe.complete,this.delegate.pageLoaded())}pageWillUnload=()=>{this.delegate.pageWillUnload()};get readyState(){return document.readyState}}class rl{started=!1;constructor(e){this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})};updatePosition(e){this.delegate.scrollPositionChanged(e)}}class nl{render({fragment:e}){_n.preservingPermanentElements(this,ol(e),()=>{al(e,()=>{ll(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}function ol(s){const e=pn(document.documentElement),t={};for(const i of e){const{id:r}=i;for(const n of s.querySelectorAll("turbo-stream")){const o=fn(n.templateElement.content,r);o&&(t[r]=[i,o])}}return t}async function al(s,e){const t=`turbo-stream-autofocus-${ye()}`,i=s.querySelectorAll("turbo-stream"),r=cl(i);let n=null;if(r&&(r.id?n=r.id:n=t,r.id=n),e(),await _t(),(document.activeElement==null||document.activeElement==document.body)&&n){const a=document.getElementById(n);ni(a)&&a.focus(),a&&a.id==t&&a.removeAttribute("id")}}async function ll(s){const[e,t]=await ea(s,()=>document.activeElement),i=e&&e.id;if(i){const r=document.getElementById(i);ni(r)&&r!=t&&r.focus()}}function cl(s){for(const e of s){const t=nn(e.templateElement.content);if(t)return t}return null}class ul{sources=new Set;#e=!1;constructor(e){this.delegate=e}start(){this.#e||(this.#e=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.#e&&(this.#e=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}inspectFetchResponse=e=>{const t=dl(e);t&&hl(t)&&(e.preventDefault(),this.receiveMessageResponse(t))};receiveMessageEvent=e=>{this.#e&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)};async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(ut.wrap(e))}}function dl(s){const e=s.detail?.fetchResponse;if(e instanceof ai)return e}function hl(s){return(s.contentType??"").startsWith(ut.contentType)}class fl extends di{static renderElement(e,t){const{documentElement:i,body:r}=document;i.replaceChild(t,r)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const i=wt(e);t.replaceChild(i,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class pi extends di{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){this.#e(),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}#e(){const{documentElement:e}=this.currentSnapshot,{lang:t}=this.newSnapshot;t?e.setAttribute("lang",t):e.removeAttribute("lang")}async mergeHead(){const e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const e=[];for(const t of this.newHeadStylesheetElements)e.push(Xo(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(wt(e))}removeUnusedDynamicStylesheetElements(){for(const e of this.unusedDynamicStylesheetElements)document.head.removeChild(e)}async mergeProvisionalElements(){const e=[...this.newHeadProvisionalElements];for(const t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(const t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(const[i,r]of t.entries()){if(e.tagName=="TITLE"){if(r.tagName!="TITLE")continue;if(e.innerHTML==r.innerHTML)return t.splice(i,1),!0}if(r.isEqualNode(e))return t.splice(i,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=wt(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(e=>e.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class Sn extends pi{static renderElement(e,t){hs(e,t,{callbacks:{beforeNodeMorphed:(i,r)=>En(i,r)&&!yn(i)?(i.reload(),!1):!0}}),D("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}}class pl{keys=[];snapshots={};constructor(e){this.size=e}has(e){return $t(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[$t(e)]}write(e,t){this.snapshots[$t(e)]=t}touch(e){const t=$t(e),i=this.keys.indexOf(t);i>-1&&this.keys.splice(i,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class ml extends mn{snapshotCache=new pl(10);lastRenderedLocation=new URL(location.href);forceReloaded=!1;shouldTransitionTo(e){return this.snapshot.prefersViewTransitions&&e.prefersViewTransitions}renderPage(e,t=!1,i=!0,r){const o=this.isPageRefresh(r)&&this.snapshot.shouldMorphPage?Sn:pi,a=new o(this.snapshot,e,t,i);return a.shouldRender?r?.changeHistory():this.forceReloaded=!0,this.render(a)}renderError(e,t){t?.changeHistory();const i=new fl(this.snapshot,e,!1);return this.render(i)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:t}=this;await Zr();const i=e.clone();return this.snapshotCache.put(t,i),i}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}isPageRefresh(e){return!e||this.lastRenderedLocation.pathname===e.location.pathname&&e.action==="replace"}shouldPreserveScrollPosition(e){return this.isPageRefresh(e)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return ie.fromElement(this.element)}}class gl{selector="a[data-turbo-preload]";constructor(e,t){this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",this.#e):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",this.#e)}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(this.snapshotCache.has(t))return;await new Tt(this,Q.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{const i=await t.responseHTML,r=ie.fromHTMLString(i);this.snapshotCache.put(e.url,r)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}#e=()=>{this.preloadOnLoadLinksForView(document.body)}}class vl{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.#e("")}exemptPageFromCache(){this.#e("no-cache")}exemptPageFromPreview(){this.#e("no-preview")}#e(e){Zo("turbo-cache-control",e)}}class bl{navigator=new sl(this);history=new Ya(this);view=new ml(this,document.documentElement);adapter=new Ua(this);pageObserver=new il(this);cacheObserver=new Ka;linkPrefetchObserver=new Ga(this,document);linkClickObserver=new vn(this,window);formSubmitObserver=new ui(this,document);scrollObserver=new rl(this);streamObserver=new ul(this);formLinkClickObserver=new bn(this,document.documentElement);frameRedirector=new za(this,document.documentElement);streamMessageRenderer=new nl;cache=new vl(this);enabled=!0;started=!1;#e=150;constructor(e){this.recentRequests=e,this.preloader=new gl(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const i=t.frame?document.getElementById(t.frame):null;if(i instanceof re){const r=t.action||xe(i);i.delegate.proposeVisitIfNavigatedWithAction(i,r),i.src=e.toString()}else this.navigator.proposeVisit(H(e),t)}refresh(e,t){const i=t&&this.recentRequests.has(t),r=e===document.baseURI;!i&&!this.navigator.currentVisit&&r&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(ut.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){x.drive.progressBarDelay=e}get progressBarDelay(){return x.drive.progressBarDelay}set drive(e){x.drive.enabled=e}get drive(){return x.drive.enabled}set formMode(e){x.forms.mode=e}get formMode(){return x.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return this.#e}set pageRefreshDebouncePeriod(e){this.refresh=ta(this.debouncedRefresh.bind(this),e),this.#e=e}shouldPreloadLink(e){const t=e.hasAttribute("data-turbo-method"),i=e.hasAttribute("data-turbo-stream"),r=e.getAttribute("data-turbo-frame"),n=r=="_top"?null:document.getElementById(r)||tt(e,"turbo-frame:not([disabled])");if(t||i||n instanceof re)return!1;{const o=new URL(e.href);return this.elementIsNavigatable(e)&&Ee(o,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,i){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:i}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&Ee(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&Ee(t,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(t)}willFollowLinkToLocation(e,t,i){return this.elementIsNavigatable(e)&&Ee(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,i)}followedLinkToLocation(e,t){const i=this.getActionForLink(e),r=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:i,acceptsStreamResponse:r})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){Yi(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||(es(document.documentElement),this.view.markVisitDirection(e.direction)),Yi(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),ts(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const i=oi(e,t);return this.submissionIsNavigatable(e,t)&&Ee(H(i),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){this.navigator.currentVisit?.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const i=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:r,detail:{render:n}}=i;return this.view.renderer&&n&&(this.view.renderer.renderElement=n),!r}viewRenderedSnapshot(e,t,i){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(i)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,i){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,i).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,i){return D("turbo:click",{target:e,detail:{url:t.href,originalEvent:i},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return D("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return D("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return D("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return D("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return D("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return D("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return D("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return D("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(x.forms.mode=="off")return!1;{const i=t?this.elementIsNavigatable(t):!0;return x.forms.mode=="optin"?i&&e.closest('[data-turbo="true"]')!=null:i&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=tt(e,"[data-turbo]"),i=tt(e,"turbo-frame");return x.drive.enabled||i?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return xe(e)||"advance"}get snapshot(){return this.view.snapshot}}function Yi(s){Object.defineProperties(s,_l)}const _l={absoluteURL:{get(){return this.toString()}}},$=new bl(un),{cache:El,navigator:yl}=$;function An(){$.start()}function wl(s){$.registerAdapter(s)}function Sl(s,e){$.visit(s,e)}function Tn(s){$.connectStreamSource(s)}function Cn(s){$.disconnectStreamSource(s)}function Al(s){$.renderStreamMessage(s)}function Tl(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),$.clearCache()}function Cl(s){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),x.drive.progressBarDelay=s}function Ll(s){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),x.forms.confirm=s}function Ol(s){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),x.forms.mode=s}function Il(s,e){Sn.renderElement(s,e)}function Rl(s,e){wn.renderElement(s,e)}var Pl=Object.freeze({__proto__:null,navigator:yl,session:$,cache:El,PageRenderer:pi,PageSnapshot:ie,FrameRenderer:hi,fetch:dn,config:x,start:An,registerAdapter:wl,visit:Sl,connectStreamSource:Tn,disconnectStreamSource:Cn,renderStreamMessage:Al,clearCache:Tl,setProgressBarDelay:Cl,setConfirmMethod:Ll,setFormMode:Ol,morphBodyElements:Il,morphTurboFrameElements:Rl,morphChildren:fi,morphElements:hs});class Nl extends Error{}class Dl{fetchResponseLoaded=e=>Promise.resolve();#e=null;#t=()=>{};#s=!1;#n=!1;#o=new Set;#r=!1;action=null;constructor(e){this.element=e,this.view=new Ca(this,this.element),this.appearanceObserver=new ha(this,this.element),this.formLinkClickObserver=new bn(this,this.element),this.linkInterceptor=new gn(this,this.element),this.restorationIdentifier=ye(),this.formSubmitObserver=new ui(this,this.element)}connect(){this.#s||(this.#s=!0,this.loadingStyle==Je.lazy?this.appearanceObserver.start():this.#i(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.#s&&(this.#s=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Je.eager&&this.#i()}sourceURLChanged(){this.#b("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Je.eager||this.#n)&&this.#i())}sourceURLReloaded(){const{refresh:e,src:t}=this.element;return this.#r=t&&e==="morph",this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==Je.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.#i())}async#i(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.#d(H(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.#n=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const i=en(t);ie.fromDocument(i).isVisitable?await this.#l(e,i):await this.#f(e)}}finally{this.#r=!1,this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,xe(e)),this.#i()}willSubmitFormLinkToLocation(e){return this.#c(e)}submittedFormLinkToLocation(e,t,i){const r=this.#a(e);r&&i.setAttribute("data-turbo-frame",r.id)}shouldInterceptLinkClick(e,t,i){return this.#c(e)}linkClickIntercepted(e,t){this.#h(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.#c(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new us(this,e,t);const{fetchRequest:i}=this.formSubmission;this.prepareRequest(i),this.formSubmission.start()}prepareRequest(e){e.headers["Turbo-Frame"]=this.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&e.acceptResponseType(ut.contentType)}requestStarted(e){es(this.element)}requestPreventedHandlingResponse(e,t){this.#t()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.#t()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.#t()}requestErrored(e,t){console.error(t),this.#t()}requestFinished(e){ts(this.element)}formSubmissionStarted({formElement:e}){es(e,this.#a(e))}formSubmissionSucceededWithResponse(e,t){const i=this.#a(e.formElement,e.submitter);i.delegate.proposeVisitIfNavigatedWithAction(i,xe(e.submitter,e.formElement,i)),i.delegate.loadResponse(t),e.isSafe||$.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),$.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){ts(e,this.#a(e))}allowsImmediateRender({element:e},t){const i=D("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:r,detail:{render:n}}=i;return this.view.renderer&&n&&(this.view.renderer.renderElement=n),!r}viewRenderedSnapshot(e,t,i){}preloadOnLoadLinksForView(e){$.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}visitCachedSnapshot=({element:e})=>{const t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement};async#l(e,t){const i=await this.extractForeignFrameElement(t.body),r=this.#r?wn:hi;if(i){const n=new ds(i),o=new r(this,this.view.snapshot,n,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(o),this.complete=!0,$.frameRendered(e,this.element),$.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else this.#p(e)&&this.#m(e)}async#d(e){const t=new Tt(this,Q.get,e,new URLSearchParams,this.element);return this.#e?.cancel(),this.#e=t,new Promise(i=>{this.#t=()=>{this.#t=()=>{},this.#e=null,i()},t.perform()})}#h(e,t,i){const r=this.#a(e,i);r.delegate.proposeVisitIfNavigatedWithAction(r,xe(i,e,r)),this.#E(e,()=>{r.src=t})}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){const i=ie.fromElement(e).clone(),{visitCachedSnapshot:r}=e.delegate;e.delegate.fetchResponseLoaded=async n=>{if(e.src){const{statusCode:o,redirected:a}=n,l=await n.responseHTML,c={response:{statusCode:o,redirected:a,responseHTML:l},visitCachedSnapshot:r,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:i};this.action&&(c.action=this.action),$.visit(e.src,c)}}}}changeHistory(){if(this.action){const e=sn(this.action);$.history.update(e,H(this.element.src||""),this.restorationIdentifier)}}async#f(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.#u(e.response)}#p(e){this.element.setAttribute("complete","");const t=e.response,i=async(n,o)=>{n instanceof Response?this.#u(n):$.visit(n,o)};return!D("turbo:frame-missing",{target:this.element,detail:{response:t,visit:i},cancelable:!0}).defaultPrevented}#m(e){this.view.missing(),this.#g(e)}#g(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new Nl(t)}async#u(e){const t=new ai(e),i=await t.responseHTML,{location:r,redirected:n,statusCode:o}=t;return $.visit(r,{response:{redirected:n,statusCode:o,responseHTML:i}})}#a(e,t){const i=Zt("data-turbo-frame",t,e)||this.element.getAttribute("target");return Gi(i)??this.element}async extractForeignFrameElement(e){let t;const i=CSS.escape(this.id);try{if(t=Qi(e.querySelector(`turbo-frame#${i}`),this.sourceURL),t)return t;if(t=Qi(e.querySelector(`turbo-frame[src][recurse~=${i}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(r){return console.error(r),new re}return null}#v(e,t){const i=oi(e,t);return Ee(H(i),this.rootLocation)}#c(e,t){const i=Zt("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.#v(e,t)||!this.enabled||i=="_top")return!1;if(i){const r=Gi(i);if(r)return!r.disabled}return!(!$.elementIsNavigatable(e)||t&&!$.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.#_("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.#t()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&this.#s}get rootLocation(){const t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return H(t)}#b(e){return this.#o.has(e)}#_(e,t){this.#o.add(e),t(),this.#o.delete(e)}#E(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}}function Gi(s){if(s!=null){const e=document.getElementById(s);if(e instanceof re)return e}}function Qi(s,e){if(s){const t=s.getAttribute("src");if(t!=null&&e!=null&&cn(t,e))throw new Error(`Matching <turbo-frame id="${s.id}"> element has a source URL which references itself`);if(s.ownerDocument!==document&&(s=document.importNode(s,!0)),s instanceof re)return s.connectedCallback(),s.disconnectedCallback(),s}}const Ln={after(){this.targetElements.forEach(s=>s.parentElement?.insertBefore(this.templateContent,s.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(s=>s.append(this.templateContent))},before(){this.targetElements.forEach(s=>s.parentElement?.insertBefore(this.templateContent,s))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(s=>s.prepend(this.templateContent))},remove(){this.targetElements.forEach(s=>s.remove())},replace(){const s=this.getAttribute("method");this.targetElements.forEach(e=>{s==="morph"?hs(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){const s=this.getAttribute("method");this.targetElements.forEach(e=>{s==="morph"?fi(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){$.refresh(this.baseURI,this.requestId)}};class mi extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){return this.renderPromise??=(async()=>{const e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await _t(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){const e=this.targetElements.flatMap(i=>[...i.children]).filter(i=>!!i.getAttribute("id")),t=[...this.templateContent?.children||[]].filter(i=>!!i.getAttribute("id")).map(i=>i.getAttribute("id"));return e.filter(i=>t.includes(i.getAttribute("id")))}get performAction(){if(this.action){const e=Ln[this.action];if(e)return e;this.#e("unknown action")}this.#e("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.#e("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.#e("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}#e(e){throw new Error(`${this.description}: ${e}`)}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:mi.renderElement}})}get targetElementsById(){const e=this.ownerDocument?.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){const e=this.ownerDocument?.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}}class kl extends HTMLElement{streamSource=null;connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Tn(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Cn(this.streamSource))}get src(){return this.getAttribute("src")||""}}re.delegateConstructor=Dl;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",re);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",mi);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",kl);(()=>{let s=document.currentScript;if(s&&!s.hasAttribute("data-turbo-suppress-warning"))for(s=s.parentElement;s;){if(s==document.body)return console.warn(tn`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applicationâs JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ââ
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,s.outerHTML);s=s.parentElement}})();window.Turbo={...Pl,StreamActions:Ln};An();var B="top",z="bottom",Y="right",q="left",fs="auto",dt=[B,z,Y,q],Ve="start",it="end",On="clippingParents",gi="viewport",Ge="popper",In="reference",Qs=dt.reduce(function(s,e){return s.concat([e+"-"+Ve,e+"-"+it])},[]),vi=[].concat(dt,[fs]).reduce(function(s,e){return s.concat([e,e+"-"+Ve,e+"-"+it])},[]),Rn="beforeRead",Pn="read",Nn="afterRead",Dn="beforeMain",kn="main",Mn="afterMain",$n="beforeWrite",xn="write",Fn="afterWrite",Hn=[Rn,Pn,Nn,Dn,kn,Mn,$n,xn,Fn];function ce(s){return s?(s.nodeName||"").toLowerCase():null}function G(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function Be(s){var e=G(s).Element;return s instanceof e||s instanceof Element}function X(s){var e=G(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function bi(s){if(typeof ShadowRoot>"u")return!1;var e=G(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function Ml(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},n=e.elements[t];!X(n)||!ce(n)||(Object.assign(n.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function $l(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],n=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=o.reduce(function(l,u){return l[u]="",l},{});!X(r)||!ce(r)||(Object.assign(r.style,a),Object.keys(n).forEach(function(l){r.removeAttribute(l)}))})}}const _i={name:"applyStyles",enabled:!0,phase:"write",fn:Ml,effect:$l,requires:["computeStyles"]};function ae(s){return s.split("-")[0]}var He=Math.max,is=Math.min,rt=Math.round;function Xs(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Vn(){return!/^((?!chrome|android).)*safari/i.test(Xs())}function nt(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=s.getBoundingClientRect(),r=1,n=1;e&&X(s)&&(r=s.offsetWidth>0&&rt(i.width)/s.offsetWidth||1,n=s.offsetHeight>0&&rt(i.height)/s.offsetHeight||1);var o=Be(s)?G(s):window,a=o.visualViewport,l=!Vn()&&t,u=(i.left+(l&&a?a.offsetLeft:0))/r,c=(i.top+(l&&a?a.offsetTop:0))/n,g=i.width/r,f=i.height/n;return{width:g,height:f,top:c,right:u+g,bottom:c+f,left:u,x:u,y:c}}function Ei(s){var e=nt(s),t=s.offsetWidth,i=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:i}}function Bn(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&bi(t)){var i=e;do{if(i&&s.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function pe(s){return G(s).getComputedStyle(s)}function xl(s){return["table","td","th"].indexOf(ce(s))>=0}function Te(s){return((Be(s)?s.ownerDocument:s.document)||window.document).documentElement}function ps(s){return ce(s)==="html"?s:s.assignedSlot||s.parentNode||(bi(s)?s.host:null)||Te(s)}function Xi(s){return!X(s)||pe(s).position==="fixed"?null:s.offsetParent}function Fl(s){var e=/firefox/i.test(Xs()),t=/Trident/i.test(Xs());if(t&&X(s)){var i=pe(s);if(i.position==="fixed")return null}var r=ps(s);for(bi(r)&&(r=r.host);X(r)&&["html","body"].indexOf(ce(r))<0;){var n=pe(r);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return r;r=r.parentNode}return null}function Ct(s){for(var e=G(s),t=Xi(s);t&&xl(t)&&pe(t).position==="static";)t=Xi(t);return t&&(ce(t)==="html"||ce(t)==="body"&&pe(t).position==="static")?e:t||Fl(s)||e}function yi(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function Et(s,e,t){return He(s,is(e,t))}function Hl(s,e,t){var i=Et(s,e,t);return i>t?t:i}function qn(){return{top:0,right:0,bottom:0,left:0}}function Wn(s){return Object.assign({},qn(),s)}function jn(s,e){return e.reduce(function(t,i){return t[i]=s,t},{})}var Vl=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Wn(typeof e!="number"?e:jn(e,dt))};function Bl(s){var e,t=s.state,i=s.name,r=s.options,n=t.elements.arrow,o=t.modifiersData.popperOffsets,a=ae(t.placement),l=yi(a),u=[q,Y].indexOf(a)>=0,c=u?"height":"width";if(!(!n||!o)){var g=Vl(r.padding,t),f=Ei(n),A=l==="y"?B:q,v=l==="y"?z:Y,y=t.rects.reference[c]+t.rects.reference[l]-o[l]-t.rects.popper[c],C=o[l]-t.rects.reference[l],T=Ct(n),d=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,b=y/2-C/2,h=g[A],p=d-f[c]-g[v],_=d/2-f[c]/2+b,m=Et(h,_,p),S=l;t.modifiersData[i]=(e={},e[S]=m,e.centerOffset=m-_,e)}}function ql(s){var e=s.state,t=s.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Bn(e.elements.popper,r)&&(e.elements.arrow=r))}const Un={name:"arrow",enabled:!0,phase:"main",fn:Bl,effect:ql,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ot(s){return s.split("-")[1]}var Wl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jl(s,e){var t=s.x,i=s.y,r=e.devicePixelRatio||1;return{x:rt(t*r)/r||0,y:rt(i*r)/r||0}}function Ji(s){var e,t=s.popper,i=s.popperRect,r=s.placement,n=s.variation,o=s.offsets,a=s.position,l=s.gpuAcceleration,u=s.adaptive,c=s.roundOffsets,g=s.isFixed,f=o.x,A=f===void 0?0:f,v=o.y,y=v===void 0?0:v,C=typeof c=="function"?c({x:A,y}):{x:A,y};A=C.x,y=C.y;var T=o.hasOwnProperty("x"),d=o.hasOwnProperty("y"),b=q,h=B,p=window;if(u){var _=Ct(t),m="clientHeight",S="clientWidth";if(_===G(t)&&(_=Te(t),pe(_).position!=="static"&&a==="absolute"&&(m="scrollHeight",S="scrollWidth")),_=_,r===B||(r===q||r===Y)&&n===it){h=z;var E=g&&_===p&&p.visualViewport?p.visualViewport.height:_[m];y-=E-i.height,y*=l?1:-1}if(r===q||(r===B||r===z)&&n===it){b=Y;var L=g&&_===p&&p.visualViewport?p.visualViewport.width:_[S];A-=L-i.width,A*=l?1:-1}}var O=Object.assign({position:a},u&&Wl),R=c===!0?jl({x:A,y},G(t)):{x:A,y};if(A=R.x,y=R.y,l){var N;return Object.assign({},O,(N={},N[h]=d?"0":"",N[b]=T?"0":"",N.transform=(p.devicePixelRatio||1)<=1?"translate("+A+"px, "+y+"px)":"translate3d("+A+"px, "+y+"px, 0)",N))}return Object.assign({},O,(e={},e[h]=d?y+"px":"",e[b]=T?A+"px":"",e.transform="",e))}function Ul(s){var e=s.state,t=s.options,i=t.gpuAcceleration,r=i===void 0?!0:i,n=t.adaptive,o=n===void 0?!0:n,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:ae(e.placement),variation:ot(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ji(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ji(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const wi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ul,data:{}};var Ft={passive:!0};function Kl(s){var e=s.state,t=s.instance,i=s.options,r=i.scroll,n=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=G(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return n&&u.forEach(function(c){c.addEventListener("scroll",t.update,Ft)}),a&&l.addEventListener("resize",t.update,Ft),function(){n&&u.forEach(function(c){c.removeEventListener("scroll",t.update,Ft)}),a&&l.removeEventListener("resize",t.update,Ft)}}const Si={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Kl,data:{}};var zl={left:"right",right:"left",bottom:"top",top:"bottom"};function Gt(s){return s.replace(/left|right|bottom|top/g,function(e){return zl[e]})}var Yl={start:"end",end:"start"};function Zi(s){return s.replace(/start|end/g,function(e){return Yl[e]})}function Ai(s){var e=G(s),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Ti(s){return nt(Te(s)).left+Ai(s).scrollLeft}function Gl(s,e){var t=G(s),i=Te(s),r=t.visualViewport,n=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){n=r.width,o=r.height;var u=Vn();(u||!u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:n,height:o,x:a+Ti(s),y:l}}function Ql(s){var e,t=Te(s),i=Ai(s),r=(e=s.ownerDocument)==null?void 0:e.body,n=He(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=He(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Ti(s),l=-i.scrollTop;return pe(r||t).direction==="rtl"&&(a+=He(t.clientWidth,r?r.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function Ci(s){var e=pe(s),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function Kn(s){return["html","body","#document"].indexOf(ce(s))>=0?s.ownerDocument.body:X(s)&&Ci(s)?s:Kn(ps(s))}function yt(s,e){var t;e===void 0&&(e=[]);var i=Kn(s),r=i===((t=s.ownerDocument)==null?void 0:t.body),n=G(i),o=r?[n].concat(n.visualViewport||[],Ci(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(yt(ps(o)))}function Js(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function Xl(s,e){var t=nt(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function er(s,e,t){return e===gi?Js(Gl(s,t)):Be(e)?Xl(e,t):Js(Ql(Te(s)))}function Jl(s){var e=yt(ps(s)),t=["absolute","fixed"].indexOf(pe(s).position)>=0,i=t&&X(s)?Ct(s):s;return Be(i)?e.filter(function(r){return Be(r)&&Bn(r,i)&&ce(r)!=="body"}):[]}function Zl(s,e,t,i){var r=e==="clippingParents"?Jl(s):[].concat(e),n=[].concat(r,[t]),o=n[0],a=n.reduce(function(l,u){var c=er(s,u,i);return l.top=He(c.top,l.top),l.right=is(c.right,l.right),l.bottom=is(c.bottom,l.bottom),l.left=He(c.left,l.left),l},er(s,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function zn(s){var e=s.reference,t=s.element,i=s.placement,r=i?ae(i):null,n=i?ot(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case B:l={x:o,y:e.y-t.height};break;case z:l={x:o,y:e.y+e.height};break;case Y:l={x:e.x+e.width,y:a};break;case q:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=r?yi(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(n){case Ve:l[u]=l[u]-(e[c]/2-t[c]/2);break;case it:l[u]=l[u]+(e[c]/2-t[c]/2);break}}return l}function at(s,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?s.placement:i,n=t.strategy,o=n===void 0?s.strategy:n,a=t.boundary,l=a===void 0?On:a,u=t.rootBoundary,c=u===void 0?gi:u,g=t.elementContext,f=g===void 0?Ge:g,A=t.altBoundary,v=A===void 0?!1:A,y=t.padding,C=y===void 0?0:y,T=Wn(typeof C!="number"?C:jn(C,dt)),d=f===Ge?In:Ge,b=s.rects.popper,h=s.elements[v?d:f],p=Zl(Be(h)?h:h.contextElement||Te(s.elements.popper),l,c,o),_=nt(s.elements.reference),m=zn({reference:_,element:b,placement:r}),S=Js(Object.assign({},b,m)),E=f===Ge?S:_,L={top:p.top-E.top+T.top,bottom:E.bottom-p.bottom+T.bottom,left:p.left-E.left+T.left,right:E.right-p.right+T.right},O=s.modifiersData.offset;if(f===Ge&&O){var R=O[r];Object.keys(L).forEach(function(N){var M=[Y,z].indexOf(N)>=0?1:-1,ue=[B,z].indexOf(N)>=0?"y":"x";L[N]+=R[ue]*M})}return L}function ec(s,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,n=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?vi:l,c=ot(i),g=c?a?Qs:Qs.filter(function(v){return ot(v)===c}):dt,f=g.filter(function(v){return u.indexOf(v)>=0});f.length===0&&(f=g);var A=f.reduce(function(v,y){return v[y]=at(s,{placement:y,boundary:r,rootBoundary:n,padding:o})[ae(y)],v},{});return Object.keys(A).sort(function(v,y){return A[v]-A[y]})}function tc(s){if(ae(s)===fs)return[];var e=Gt(s);return[Zi(s),e,Zi(e)]}function sc(s){var e=s.state,t=s.options,i=s.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,n=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,u=t.padding,c=t.boundary,g=t.rootBoundary,f=t.altBoundary,A=t.flipVariations,v=A===void 0?!0:A,y=t.allowedAutoPlacements,C=e.options.placement,T=ae(C),d=T===C,b=l||(d||!v?[Gt(C)]:tc(C)),h=[C].concat(b).reduce(function(je,ge){return je.concat(ae(ge)===fs?ec(e,{placement:ge,boundary:c,rootBoundary:g,padding:u,flipVariations:v,allowedAutoPlacements:y}):ge)},[]),p=e.rects.reference,_=e.rects.popper,m=new Map,S=!0,E=h[0],L=0;L<h.length;L++){var O=h[L],R=ae(O),N=ot(O)===Ve,M=[B,z].indexOf(R)>=0,ue=M?"width":"height",U=at(e,{placement:O,boundary:c,rootBoundary:g,altBoundary:f,padding:u}),te=M?N?Y:q:N?z:B;p[ue]>_[ue]&&(te=Gt(te));var Pt=Gt(te),Oe=[];if(n&&Oe.push(U[R]<=0),a&&Oe.push(U[te]<=0,U[Pt]<=0),Oe.every(function(je){return je})){E=O,S=!1;break}m.set(O,Oe)}if(S)for(var Nt=v?3:1,ws=function(ge){var gt=h.find(function(kt){var Ie=m.get(kt);if(Ie)return Ie.slice(0,ge).every(function(Ss){return Ss})});if(gt)return E=gt,"break"},mt=Nt;mt>0;mt--){var Dt=ws(mt);if(Dt==="break")break}e.placement!==E&&(e.modifiersData[i]._skip=!0,e.placement=E,e.reset=!0)}}const Yn={name:"flip",enabled:!0,phase:"main",fn:sc,requiresIfExists:["offset"],data:{_skip:!1}};function tr(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function sr(s){return[B,Y,z,q].some(function(e){return s[e]>=0})}function ic(s){var e=s.state,t=s.name,i=e.rects.reference,r=e.rects.popper,n=e.modifiersData.preventOverflow,o=at(e,{elementContext:"reference"}),a=at(e,{altBoundary:!0}),l=tr(o,i),u=tr(a,r,n),c=sr(l),g=sr(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":g})}const Gn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ic};function rc(s,e,t){var i=ae(s),r=[q,B].indexOf(i)>=0?-1:1,n=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,o=n[0],a=n[1];return o=o||0,a=(a||0)*r,[q,Y].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function nc(s){var e=s.state,t=s.options,i=s.name,r=t.offset,n=r===void 0?[0,0]:r,o=vi.reduce(function(c,g){return c[g]=rc(g,e.rects,n),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=o}const Qn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nc};function oc(s){var e=s.state,t=s.name;e.modifiersData[t]=zn({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Li={name:"popperOffsets",enabled:!0,phase:"read",fn:oc,data:{}};function ac(s){return s==="x"?"y":"x"}function lc(s){var e=s.state,t=s.options,i=s.name,r=t.mainAxis,n=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,u=t.rootBoundary,c=t.altBoundary,g=t.padding,f=t.tether,A=f===void 0?!0:f,v=t.tetherOffset,y=v===void 0?0:v,C=at(e,{boundary:l,rootBoundary:u,padding:g,altBoundary:c}),T=ae(e.placement),d=ot(e.placement),b=!d,h=yi(T),p=ac(h),_=e.modifiersData.popperOffsets,m=e.rects.reference,S=e.rects.popper,E=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,L=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(_){if(n){var N,M=h==="y"?B:q,ue=h==="y"?z:Y,U=h==="y"?"height":"width",te=_[h],Pt=te+C[M],Oe=te-C[ue],Nt=A?-S[U]/2:0,ws=d===Ve?m[U]:S[U],mt=d===Ve?-S[U]:-m[U],Dt=e.elements.arrow,je=A&&Dt?Ei(Dt):{width:0,height:0},ge=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:qn(),gt=ge[M],kt=ge[ue],Ie=Et(0,m[U],je[U]),Ss=b?m[U]/2-Nt-Ie-gt-L.mainAxis:ws-Ie-gt-L.mainAxis,$o=b?-m[U]/2+Nt+Ie+kt+L.mainAxis:mt+Ie+kt+L.mainAxis,As=e.elements.arrow&&Ct(e.elements.arrow),xo=As?h==="y"?As.clientTop||0:As.clientLeft||0:0,Mi=(N=O?.[h])!=null?N:0,Fo=te+Ss-Mi-xo,Ho=te+$o-Mi,$i=Et(A?is(Pt,Fo):Pt,te,A?He(Oe,Ho):Oe);_[h]=$i,R[h]=$i-te}if(a){var xi,Vo=h==="x"?B:q,Bo=h==="x"?z:Y,Re=_[p],Mt=p==="y"?"height":"width",Fi=Re+C[Vo],Hi=Re-C[Bo],Ts=[B,q].indexOf(T)!==-1,Vi=(xi=O?.[p])!=null?xi:0,Bi=Ts?Fi:Re-m[Mt]-S[Mt]-Vi+L.altAxis,qi=Ts?Re+m[Mt]+S[Mt]-Vi-L.altAxis:Hi,Wi=A&&Ts?Hl(Bi,Re,qi):Et(A?Bi:Fi,Re,A?qi:Hi);_[p]=Wi,R[p]=Wi-Re}e.modifiersData[i]=R}}const Xn={name:"preventOverflow",enabled:!0,phase:"main",fn:lc,requiresIfExists:["offset"]};function cc(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function uc(s){return s===G(s)||!X(s)?Ai(s):cc(s)}function dc(s){var e=s.getBoundingClientRect(),t=rt(e.width)/s.offsetWidth||1,i=rt(e.height)/s.offsetHeight||1;return t!==1||i!==1}function hc(s,e,t){t===void 0&&(t=!1);var i=X(e),r=X(e)&&dc(e),n=Te(e),o=nt(s,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((ce(e)!=="body"||Ci(n))&&(a=uc(e)),X(e)?(l=nt(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):n&&(l.x=Ti(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function fc(s){var e=new Map,t=new Set,i=[];s.forEach(function(n){e.set(n.name,n)});function r(n){t.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(n)}return s.forEach(function(n){t.has(n.name)||r(n)}),i}function pc(s){var e=fc(s);return Hn.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function mc(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function gc(s){var e=s.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var ir={placement:"bottom",modifiers:[],strategy:"absolute"};function rr(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function ms(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,n=r===void 0?ir:r;return function(a,l,u){u===void 0&&(u=n);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},ir,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},g=[],f=!1,A={state:c,setOptions:function(T){var d=typeof T=="function"?T(c.options):T;y(),c.options=Object.assign({},n,c.options,d),c.scrollParents={reference:Be(a)?yt(a):a.contextElement?yt(a.contextElement):[],popper:yt(l)};var b=pc(gc([].concat(i,c.options.modifiers)));return c.orderedModifiers=b.filter(function(h){return h.enabled}),v(),A.update()},forceUpdate:function(){if(!f){var T=c.elements,d=T.reference,b=T.popper;if(rr(d,b)){c.rects={reference:hc(d,Ct(b),c.options.strategy==="fixed"),popper:Ei(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var h=0;h<c.orderedModifiers.length;h++){if(c.reset===!0){c.reset=!1,h=-1;continue}var p=c.orderedModifiers[h],_=p.fn,m=p.options,S=m===void 0?{}:m,E=p.name;typeof _=="function"&&(c=_({state:c,options:S,name:E,instance:A})||c)}}}},update:mc(function(){return new Promise(function(C){A.forceUpdate(),C(c)})}),destroy:function(){y(),f=!0}};if(!rr(a,l))return A;A.setOptions(u).then(function(C){!f&&u.onFirstUpdate&&u.onFirstUpdate(C)});function v(){c.orderedModifiers.forEach(function(C){var T=C.name,d=C.options,b=d===void 0?{}:d,h=C.effect;if(typeof h=="function"){var p=h({state:c,name:T,instance:A,options:b}),_=function(){};g.push(p||_)}})}function y(){g.forEach(function(C){return C()}),g=[]}return A}}var vc=ms(),bc=[Si,Li,wi,_i],_c=ms({defaultModifiers:bc}),Ec=[Si,Li,wi,_i,Qn,Yn,Xn,Un,Gn],Oi=ms({defaultModifiers:Ec});const Jn=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Mn,afterRead:Nn,afterWrite:Fn,applyStyles:_i,arrow:Un,auto:fs,basePlacements:dt,beforeMain:Dn,beforeRead:Rn,beforeWrite:$n,bottom:z,clippingParents:On,computeStyles:wi,createPopper:Oi,createPopperBase:vc,createPopperLite:_c,detectOverflow:at,end:it,eventListeners:Si,flip:Yn,hide:Gn,left:q,main:kn,modifierPhases:Hn,offset:Qn,placements:vi,popper:Ge,popperGenerator:ms,popperOffsets:Li,preventOverflow:Xn,read:Pn,reference:In,right:Y,start:Ve,top:B,variationPlacements:Qs,viewport:gi,write:xn},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const ve=new Map,Cs={set(s,e,t){ve.has(s)||ve.set(s,new Map);const i=ve.get(s);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(s,e){return ve.has(s)&&ve.get(s).get(e)||null},remove(s,e){if(!ve.has(s))return;const t=ve.get(s);t.delete(e),t.size===0&&ve.delete(s)}},yc=1e6,wc=1e3,Zs="transitionend",Zn=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),s),Sc=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),Ac=s=>{do s+=Math.floor(Math.random()*yc);while(document.getElementById(s));return s},Tc=s=>{if(!s)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(s);const i=Number.parseFloat(e),r=Number.parseFloat(t);return!i&&!r?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*wc)},eo=s=>{s.dispatchEvent(new Event(Zs))},he=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),we=s=>he(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(Zn(s)):null,ht=s=>{if(!he(s)||s.getClientRects().length===0)return!1;const e=getComputedStyle(s).getPropertyValue("visibility")==="visible",t=s.closest("details:not([open])");if(!t)return e;if(t!==s){const i=s.closest("summary");if(i&&i.parentNode!==t||i===null)return!1}return e},Se=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",to=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const e=s.getRootNode();return e instanceof ShadowRoot?e:null}return s instanceof ShadowRoot?s:s.parentNode?to(s.parentNode):null},rs=()=>{},Lt=s=>{s.offsetHeight},so=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ls=[],Cc=s=>{document.readyState==="loading"?(Ls.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Ls)e()}),Ls.push(s)):s()},J=()=>document.documentElement.dir==="rtl",ee=s=>{Cc(()=>{const e=so();if(e){const t=s.NAME,i=e.fn[t];e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=()=>(e.fn[t]=i,s.jQueryInterface)}})},j=(s,e=[],t=s)=>typeof s=="function"?s.call(...e):t,io=(s,e,t=!0)=>{if(!t){j(s);return}const r=Tc(e)+5;let n=!1;const o=({target:a})=>{a===e&&(n=!0,e.removeEventListener(Zs,o),j(s))};e.addEventListener(Zs,o),setTimeout(()=>{n||eo(e)},r)},Ii=(s,e,t,i)=>{const r=s.length;let n=s.indexOf(e);return n===-1?!t&&i?s[r-1]:s[0]:(n+=t?1:-1,i&&(n=(n+r)%r),s[Math.max(0,Math.min(n,r-1))])},Lc=/[^.]*(?=\..*)\.|.*/,Oc=/\..*/,Ic=/::\d+$/,Os={};let nr=1;const ro={mouseenter:"mouseover",mouseleave:"mouseout"},Rc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function no(s,e){return e&&`${e}::${nr++}`||s.uidEvent||nr++}function oo(s){const e=no(s);return s.uidEvent=e,Os[e]=Os[e]||{},Os[e]}function Pc(s,e){return function t(i){return Ri(i,{delegateTarget:s}),t.oneOff&&w.off(s,i.type,e),e.apply(s,[i])}}function Nc(s,e,t){return function i(r){const n=s.querySelectorAll(e);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of n)if(a===o)return Ri(r,{delegateTarget:o}),i.oneOff&&w.off(s,r.type,e,t),t.apply(o,[r])}}function ao(s,e,t=null){return Object.values(s).find(i=>i.callable===e&&i.delegationSelector===t)}function lo(s,e,t){const i=typeof e=="string",r=i?t:e||t;let n=co(s);return Rc.has(n)||(n=s),[i,r,n]}function or(s,e,t,i,r){if(typeof e!="string"||!s)return;let[n,o,a]=lo(e,t,i);e in ro&&(o=(v=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return v.call(this,y)})(o));const l=oo(s),u=l[a]||(l[a]={}),c=ao(u,o,n?t:null);if(c){c.oneOff=c.oneOff&&r;return}const g=no(o,e.replace(Lc,"")),f=n?Nc(s,t,o):Pc(s,o);f.delegationSelector=n?t:null,f.callable=o,f.oneOff=r,f.uidEvent=g,u[g]=f,s.addEventListener(a,f,n)}function ei(s,e,t,i,r){const n=ao(e[t],i,r);n&&(s.removeEventListener(t,n,!!r),delete e[t][n.uidEvent])}function Dc(s,e,t,i){const r=e[t]||{};for(const[n,o]of Object.entries(r))n.includes(i)&&ei(s,e,t,o.callable,o.delegationSelector)}function co(s){return s=s.replace(Oc,""),ro[s]||s}const w={on(s,e,t,i){or(s,e,t,i,!1)},one(s,e,t,i){or(s,e,t,i,!0)},off(s,e,t,i){if(typeof e!="string"||!s)return;const[r,n,o]=lo(e,t,i),a=o!==e,l=oo(s),u=l[o]||{},c=e.startsWith(".");if(typeof n<"u"){if(!Object.keys(u).length)return;ei(s,l,o,n,r?t:null);return}if(c)for(const g of Object.keys(l))Dc(s,l,g,e.slice(1));for(const[g,f]of Object.entries(u)){const A=g.replace(Ic,"");(!a||e.includes(A))&&ei(s,l,o,f.callable,f.delegationSelector)}},trigger(s,e,t){if(typeof e!="string"||!s)return null;const i=so(),r=co(e),n=e!==r;let o=null,a=!0,l=!0,u=!1;n&&i&&(o=i.Event(e,t),i(s).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),u=o.isDefaultPrevented());const c=Ri(new Event(e,{bubbles:a,cancelable:!0}),t);return u&&c.preventDefault(),l&&s.dispatchEvent(c),c.defaultPrevented&&o&&o.preventDefault(),c}};function Ri(s,e={}){for(const[t,i]of Object.entries(e))try{s[t]=i}catch{Object.defineProperty(s,t,{configurable:!0,get(){return i}})}return s}function ar(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function Is(s){return s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const fe={setDataAttribute(s,e,t){s.setAttribute(`data-bs-${Is(e)}`,t)},removeDataAttribute(s,e){s.removeAttribute(`data-bs-${Is(e)}`)},getDataAttributes(s){if(!s)return{};const e={},t=Object.keys(s.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1),e[r]=ar(s.dataset[i])}return e},getDataAttribute(s,e){return ar(s.getAttribute(`data-bs-${Is(e)}`))}};class Ot{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=he(t)?fe.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...he(t)?fe.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[i,r]of Object.entries(t)){const n=e[i],o=he(n)?"element":Sc(n);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${r}".`)}}}const kc="5.3.8";class ne extends Ot{constructor(e,t){super(),e=we(e),e&&(this._element=e,this._config=this._getConfig(t),Cs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Cs.remove(this._element,this.constructor.DATA_KEY),w.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){io(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Cs.get(we(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return kc}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Rs=s=>{let e=s.getAttribute("data-bs-target");if(!e||e==="#"){let t=s.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>Zn(t)).join(","):null},I={find(s,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,s))},findOne(s,e=document.documentElement){return Element.prototype.querySelector.call(e,s)},children(s,e){return[].concat(...s.children).filter(t=>t.matches(e))},parents(s,e){const t=[];let i=s.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(s,e){let t=s.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(s,e){let t=s.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(s){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,s).filter(t=>!Se(t)&&ht(t))},getSelectorFromElement(s){const e=Rs(s);return e&&I.findOne(e)?e:null},getElementFromSelector(s){const e=Rs(s);return e?I.findOne(e):null},getMultipleElementsFromSelector(s){const e=Rs(s);return e?I.find(e):[]}},gs=(s,e="hide")=>{const t=`click.dismiss${s.EVENT_KEY}`,i=s.NAME;w.on(document,t,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Se(this))return;const n=I.getElementFromSelector(this)||this.closest(`.${i}`);s.getOrCreateInstance(n)[e]()})},Mc="alert",$c="bs.alert",uo=`.${$c}`,xc=`close${uo}`,Fc=`closed${uo}`,Hc="fade",Vc="show";class vs extends ne{static get NAME(){return Mc}close(){if(w.trigger(this._element,xc).defaultPrevented)return;this._element.classList.remove(Vc);const t=this._element.classList.contains(Hc);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),w.trigger(this._element,Fc),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=vs.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}gs(vs,"close");ee(vs);const Bc="button",qc="bs.button",Wc=`.${qc}`,jc=".data-api",Uc="active",lr='[data-bs-toggle="button"]',Kc=`click${Wc}${jc}`;class bs extends ne{static get NAME(){return Bc}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Uc))}static jQueryInterface(e){return this.each(function(){const t=bs.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}w.on(document,Kc,lr,s=>{s.preventDefault();const e=s.target.closest(lr);bs.getOrCreateInstance(e).toggle()});ee(bs);const zc="swipe",ft=".bs.swipe",Yc=`touchstart${ft}`,Gc=`touchmove${ft}`,Qc=`touchend${ft}`,Xc=`pointerdown${ft}`,Jc=`pointerup${ft}`,Zc="touch",eu="pen",tu="pointer-event",su=40,iu={endCallback:null,leftCallback:null,rightCallback:null},ru={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ns extends Ot{constructor(e,t){super(),this._element=e,!(!e||!ns.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return iu}static get DefaultType(){return ru}static get NAME(){return zc}dispose(){w.off(this._element,ft)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),j(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=su)return;const t=e/this._deltaX;this._deltaX=0,t&&j(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(w.on(this._element,Xc,e=>this._start(e)),w.on(this._element,Jc,e=>this._end(e)),this._element.classList.add(tu)):(w.on(this._element,Yc,e=>this._start(e)),w.on(this._element,Gc,e=>this._move(e)),w.on(this._element,Qc,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===eu||e.pointerType===Zc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const nu="carousel",ou="bs.carousel",Ce=`.${ou}`,ho=".data-api",au="ArrowLeft",lu="ArrowRight",cu=500,vt="next",Ke="prev",Qe="left",Qt="right",uu=`slide${Ce}`,Ps=`slid${Ce}`,du=`keydown${Ce}`,hu=`mouseenter${Ce}`,fu=`mouseleave${Ce}`,pu=`dragstart${Ce}`,mu=`load${Ce}${ho}`,gu=`click${Ce}${ho}`,fo="carousel",Ht="active",vu="slide",bu="carousel-item-end",_u="carousel-item-start",Eu="carousel-item-next",yu="carousel-item-prev",po=".active",mo=".carousel-item",wu=po+mo,Su=".carousel-item img",Au=".carousel-indicators",Tu="[data-bs-slide], [data-bs-slide-to]",Cu='[data-bs-ride="carousel"]',Lu={[au]:Qt,[lu]:Qe},Ou={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Iu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class It extends ne{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=I.findOne(Au,this._element),this._addEventListeners(),this._config.ride===fo&&this.cycle()}static get Default(){return Ou}static get DefaultType(){return Iu}static get NAME(){return nu}next(){this._slide(vt)}nextWhenVisible(){!document.hidden&&ht(this._element)&&this.next()}prev(){this._slide(Ke)}pause(){this._isSliding&&eo(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){w.one(this._element,Ps,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){w.one(this._element,Ps,()=>this.to(e));return}const i=this._getItemIndex(this._getActive());if(i===e)return;const r=e>i?vt:Ke;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&w.on(this._element,du,e=>this._keydown(e)),this._config.pause==="hover"&&(w.on(this._element,hu,()=>this.pause()),w.on(this._element,fu,()=>this._maybeEnableCycle())),this._config.touch&&ns.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of I.find(Su,this._element))w.on(i,pu,r=>r.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Qe)),rightCallback:()=>this._slide(this._directionToOrder(Qt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),cu+this._config.interval))}};this._swipeHelper=new ns(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Lu[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=I.findOne(po,this._indicatorsElement);t.classList.remove(Ht),t.removeAttribute("aria-current");const i=I.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Ht),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),r=e===vt,n=t||Ii(this._getItems(),i,r,this._config.wrap);if(n===i)return;const o=this._getItemIndex(n),a=A=>w.trigger(this._element,A,{relatedTarget:n,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(a(uu).defaultPrevented||!i||!n)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=n;const c=r?_u:bu,g=r?Eu:yu;n.classList.add(g),Lt(n),i.classList.add(c),n.classList.add(c);const f=()=>{n.classList.remove(c,g),n.classList.add(Ht),i.classList.remove(Ht,g,c),this._isSliding=!1,a(Ps)};this._queueCallback(f,i,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(vu)}_getActive(){return I.findOne(wu,this._element)}_getItems(){return I.find(mo,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return J()?e===Qe?Ke:vt:e===Qe?vt:Ke}_orderToDirection(e){return J()?e===Ke?Qe:Qt:e===Ke?Qt:Qe}static jQueryInterface(e){return this.each(function(){const t=It.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}w.on(document,gu,Tu,function(s){const e=I.getElementFromSelector(this);if(!e||!e.classList.contains(fo))return;s.preventDefault();const t=It.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){t.to(i),t._maybeEnableCycle();return}if(fe.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});w.on(window,mu,()=>{const s=I.find(Cu);for(const e of s)It.getOrCreateInstance(e)});ee(It);const Ru="collapse",Pu="bs.collapse",Rt=`.${Pu}`,Nu=".data-api",Du=`show${Rt}`,ku=`shown${Rt}`,Mu=`hide${Rt}`,$u=`hidden${Rt}`,xu=`click${Rt}${Nu}`,Ns="show",et="collapse",Vt="collapsing",Fu="collapsed",Hu=`:scope .${et} .${et}`,Vu="collapse-horizontal",Bu="width",qu="height",Wu=".collapse.show, .collapse.collapsing",ti='[data-bs-toggle="collapse"]',ju={parent:null,toggle:!0},Uu={parent:"(null|element)",toggle:"boolean"};class St extends ne{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=I.find(ti);for(const r of i){const n=I.getSelectorFromElement(r),o=I.find(n).filter(a=>a===this._element);n!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ju}static get DefaultType(){return Uu}static get NAME(){return Ru}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Wu).filter(a=>a!==this._element).map(a=>St.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||w.trigger(this._element,Du).defaultPrevented)return;for(const a of e)a.hide();const i=this._getDimension();this._element.classList.remove(et),this._element.classList.add(Vt),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Vt),this._element.classList.add(et,Ns),this._element.style[i]="",w.trigger(this._element,ku)},o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||w.trigger(this._element,Mu).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Lt(this._element),this._element.classList.add(Vt),this._element.classList.remove(et,Ns);for(const r of this._triggerArray){const n=I.getElementFromSelector(r);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Vt),this._element.classList.add(et),w.trigger(this._element,$u)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ns)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=we(e.parent),e}_getDimension(){return this._element.classList.contains(Vu)?Bu:qu}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ti);for(const t of e){const i=I.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=I.find(Hu,this._config.parent);return I.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle(Fu,!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=St.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}w.on(document,xu,ti,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const e of I.getMultipleElementsFromSelector(this))St.getOrCreateInstance(e,{toggle:!1}).toggle()});ee(St);const cr="dropdown",Ku="bs.dropdown",qe=`.${Ku}`,Pi=".data-api",zu="Escape",ur="Tab",Yu="ArrowUp",dr="ArrowDown",Gu=2,Qu=`hide${qe}`,Xu=`hidden${qe}`,Ju=`show${qe}`,Zu=`shown${qe}`,go=`click${qe}${Pi}`,vo=`keydown${qe}${Pi}`,ed=`keyup${qe}${Pi}`,Xe="show",td="dropup",sd="dropend",id="dropstart",rd="dropup-center",nd="dropdown-center",Me='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',od=`${Me}.${Xe}`,Xt=".dropdown-menu",ad=".navbar",ld=".navbar-nav",cd=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ud=J()?"top-end":"top-start",dd=J()?"top-start":"top-end",hd=J()?"bottom-end":"bottom-start",fd=J()?"bottom-start":"bottom-end",pd=J()?"left-start":"right-start",md=J()?"right-start":"left-start",gd="top",vd="bottom",bd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},_d={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class le extends ne{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=I.next(this._element,Xt)[0]||I.prev(this._element,Xt)[0]||I.findOne(Xt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return bd}static get DefaultType(){return _d}static get NAME(){return cr}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Se(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!w.trigger(this._element,Ju,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ld))for(const i of[].concat(...document.body.children))w.on(i,"mouseover",rs);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Xe),this._element.classList.add(Xe),w.trigger(this._element,Zu,e)}}hide(){if(Se(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!w.trigger(this._element,Qu,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))w.off(i,"mouseover",rs);this._popper&&this._popper.destroy(),this._menu.classList.remove(Xe),this._element.classList.remove(Xe),this._element.setAttribute("aria-expanded","false"),fe.removeDataAttribute(this._menu,"popper"),w.trigger(this._element,Xu,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!he(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${cr.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Jn>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:he(this._config.reference)?e=we(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Oi(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Xe)}_getPlacement(){const e=this._parent;if(e.classList.contains(sd))return pd;if(e.classList.contains(id))return md;if(e.classList.contains(rd))return gd;if(e.classList.contains(nd))return vd;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(td)?t?dd:ud:t?fd:hd}_detectNavbar(){return this._element.closest(ad)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(fe.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...j(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const i=I.find(cd,this._menu).filter(r=>ht(r));i.length&&Ii(i,t,e===dr,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=le.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Gu||e.type==="keyup"&&e.key!==ur)return;const t=I.find(od);for(const i of t){const r=le.getInstance(i);if(!r||r._config.autoClose===!1)continue;const n=e.composedPath(),o=n.includes(r._menu);if(n.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===ur||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:r._element};e.type==="click"&&(a.clickEvent=e),r._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i=e.key===zu,r=[Yu,dr].includes(e.key);if(!r&&!i||t&&!i)return;e.preventDefault();const n=this.matches(Me)?this:I.prev(this,Me)[0]||I.next(this,Me)[0]||I.findOne(Me,e.delegateTarget.parentNode),o=le.getOrCreateInstance(n);if(r){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),n.focus())}}w.on(document,vo,Me,le.dataApiKeydownHandler);w.on(document,vo,Xt,le.dataApiKeydownHandler);w.on(document,go,le.clearMenus);w.on(document,ed,le.clearMenus);w.on(document,go,Me,function(s){s.preventDefault(),le.getOrCreateInstance(this).toggle()});ee(le);const bo="backdrop",Ed="fade",hr="show",fr=`mousedown.bs.${bo}`,yd={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},wd={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class _o extends Ot{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return yd}static get DefaultType(){return wd}static get NAME(){return bo}show(e){if(!this._config.isVisible){j(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Lt(t),t.classList.add(hr),this._emulateAnimation(()=>{j(e)})}hide(e){if(!this._config.isVisible){j(e);return}this._getElement().classList.remove(hr),this._emulateAnimation(()=>{this.dispose(),j(e)})}dispose(){this._isAppended&&(w.off(this._element,fr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Ed),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=we(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),w.on(e,fr,()=>{j(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){io(e,this._getElement(),this._config.isAnimated)}}const Sd="focustrap",Ad="bs.focustrap",os=`.${Ad}`,Td=`focusin${os}`,Cd=`keydown.tab${os}`,Ld="Tab",Od="forward",pr="backward",Id={autofocus:!0,trapElement:null},Rd={autofocus:"boolean",trapElement:"element"};class Eo extends Ot{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Id}static get DefaultType(){return Rd}static get NAME(){return Sd}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),w.off(document,os),w.on(document,Td,e=>this._handleFocusin(e)),w.on(document,Cd,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,w.off(document,os))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=I.focusableChildren(t);i.length===0?t.focus():this._lastTabNavDirection===pr?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===Ld&&(this._lastTabNavDirection=e.shiftKey?pr:Od)}}const mr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gr=".sticky-top",Bt="padding-right",vr="margin-right";class si{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Bt,t=>t+e),this._setElementAttributes(mr,Bt,t=>t+e),this._setElementAttributes(gr,vr,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Bt),this._resetElementAttributes(mr,Bt),this._resetElementAttributes(gr,vr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const r=this.getWidth(),n=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,t);const a=window.getComputedStyle(o).getPropertyValue(t);o.style.setProperty(t,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,n)}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&fe.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){const i=r=>{const n=fe.getDataAttribute(r,t);if(n===null){r.style.removeProperty(t);return}fe.removeDataAttribute(r,t),r.style.setProperty(t,n)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){if(he(e)){t(e);return}for(const i of I.find(e,this._element))t(i)}}const Pd="modal",Nd="bs.modal",Z=`.${Nd}`,Dd=".data-api",kd="Escape",Md=`hide${Z}`,$d=`hidePrevented${Z}`,yo=`hidden${Z}`,wo=`show${Z}`,xd=`shown${Z}`,Fd=`resize${Z}`,Hd=`click.dismiss${Z}`,Vd=`mousedown.dismiss${Z}`,Bd=`keydown.dismiss${Z}`,qd=`click${Z}${Dd}`,br="modal-open",Wd="fade",_r="show",Ds="modal-static",jd=".modal.show",Ud=".modal-dialog",Kd=".modal-body",zd='[data-bs-toggle="modal"]',Yd={backdrop:!0,focus:!0,keyboard:!0},Gd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class lt extends ne{constructor(e,t){super(e,t),this._dialog=I.findOne(Ud,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new si,this._addEventListeners()}static get Default(){return Yd}static get DefaultType(){return Gd}static get NAME(){return Pd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||w.trigger(this._element,wo,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(br),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||w.trigger(this._element,Md).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(_r),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){w.off(window,Z),w.off(this._dialog,Z),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _o({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Eo({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=I.findOne(Kd,this._dialog);t&&(t.scrollTop=0),Lt(this._element),this._element.classList.add(_r);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,w.trigger(this._element,xd,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){w.on(this._element,Bd,e=>{if(e.key===kd){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),w.on(window,Fd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),w.on(this._element,Vd,e=>{w.one(this._element,Hd,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(br),this._resetAdjustments(),this._scrollBar.reset(),w.trigger(this._element,yo)})}_isAnimated(){return this._element.classList.contains(Wd)}_triggerBackdropTransition(){if(w.trigger(this._element,$d).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Ds)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Ds),this._queueCallback(()=>{this._element.classList.remove(Ds),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const r=J()?"paddingLeft":"paddingRight";this._element.style[r]=`${t}px`}if(!i&&e){const r=J()?"paddingRight":"paddingLeft";this._element.style[r]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=lt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}w.on(document,qd,zd,function(s){const e=I.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),w.one(e,wo,r=>{r.defaultPrevented||w.one(e,yo,()=>{ht(this)&&this.focus()})});const t=I.findOne(jd);t&&lt.getInstance(t).hide(),lt.getOrCreateInstance(e).toggle(this)});gs(lt);ee(lt);const Qd="offcanvas",Xd="bs.offcanvas",me=`.${Xd}`,So=".data-api",Jd=`load${me}${So}`,Zd="Escape",Er="show",yr="showing",wr="hiding",eh="offcanvas-backdrop",Ao=".offcanvas.show",th=`show${me}`,sh=`shown${me}`,ih=`hide${me}`,Sr=`hidePrevented${me}`,To=`hidden${me}`,rh=`resize${me}`,nh=`click${me}${So}`,oh=`keydown.dismiss${me}`,ah='[data-bs-toggle="offcanvas"]',lh={backdrop:!0,keyboard:!0,scroll:!1},ch={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ae extends ne{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lh}static get DefaultType(){return ch}static get NAME(){return Qd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||w.trigger(this._element,th,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new si().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yr);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Er),this._element.classList.remove(yr),w.trigger(this._element,sh,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||w.trigger(this._element,ih).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(wr),this._backdrop.hide();const t=()=>{this._element.classList.remove(Er,wr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new si().reset(),w.trigger(this._element,To)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){w.trigger(this._element,Sr);return}this.hide()},t=!!this._config.backdrop;return new _o({className:eh,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new Eo({trapElement:this._element})}_addEventListeners(){w.on(this._element,oh,e=>{if(e.key===Zd){if(this._config.keyboard){this.hide();return}w.trigger(this._element,Sr)}})}static jQueryInterface(e){return this.each(function(){const t=Ae.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}w.on(document,nh,ah,function(s){const e=I.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Se(this))return;w.one(e,To,()=>{ht(this)&&this.focus()});const t=I.findOne(Ao);t&&t!==e&&Ae.getInstance(t).hide(),Ae.getOrCreateInstance(e).toggle(this)});w.on(window,Jd,()=>{for(const s of I.find(Ao))Ae.getOrCreateInstance(s).show()});w.on(window,rh,()=>{for(const s of I.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&Ae.getOrCreateInstance(s).hide()});gs(Ae);ee(Ae);const uh=/^aria-[\w-]*$/i,Co={"*":["class","dir","id","lang","role",uh],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},dh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),hh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,fh=(s,e)=>{const t=s.nodeName.toLowerCase();return e.includes(t)?dh.has(t)?!!hh.test(s.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(t))};function ph(s,e,t){if(!s.length)return s;if(t&&typeof t=="function")return t(s);const r=new window.DOMParser().parseFromString(s,"text/html"),n=[].concat(...r.body.querySelectorAll("*"));for(const o of n){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(const c of l)fh(c,u)||o.removeAttribute(c.nodeName)}return r.body.innerHTML}const mh="TemplateFactory",gh={allowList:Co,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},bh={entry:"(string|element|function|null)",selector:"(string|element)"};class _h extends Ot{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return gh}static get DefaultType(){return vh}static get NAME(){return mh}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,n]of Object.entries(this._config.content))this._setContent(e,n,r);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},bh)}_setContent(e,t,i){const r=I.findOne(i,e);if(r){if(t=this._resolvePossibleFunction(t),!t){r.remove();return}if(he(t)){this._putElementInTemplate(we(t),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(t);return}r.textContent=t}}_maybeSanitize(e){return this._config.sanitize?ph(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return j(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const Eh="tooltip",yh=new Set(["sanitize","allowList","sanitizeFn"]),ks="fade",wh="modal",qt="show",Sh=".tooltip-inner",Ar=`.${wh}`,Tr="hide.bs.modal",bt="hover",Ms="focus",$s="click",Ah="manual",Th="hide",Ch="hidden",Lh="show",Oh="shown",Ih="inserted",Rh="click",Ph="focusin",Nh="focusout",Dh="mouseenter",kh="mouseleave",Mh={AUTO:"auto",TOP:"top",RIGHT:J()?"left":"right",BOTTOM:"bottom",LEFT:J()?"right":"left"},$h={allowList:Co,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},xh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class pt extends ne{constructor(e,t){if(typeof Jn>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return $h}static get DefaultType(){return xh}static get NAME(){return Eh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),w.off(this._element.closest(Ar),Tr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=w.trigger(this._element,this.constructor.eventName(Lh)),i=(to(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(r),w.trigger(this._element,this.constructor.eventName(Ih))),this._popper=this._createPopper(r),r.classList.add(qt),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))w.on(a,"mouseover",rs);const o=()=>{w.trigger(this._element,this.constructor.eventName(Oh)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||w.trigger(this._element,this.constructor.eventName(Th)).defaultPrevented)return;if(this._getTipElement().classList.remove(qt),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))w.off(r,"mouseover",rs);this._activeTrigger[$s]=!1,this._activeTrigger[Ms]=!1,this._activeTrigger[bt]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),w.trigger(this._element,this.constructor.eventName(Ch)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(ks,qt),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=Ac(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(ks),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new _h({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Sh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ks)}_isShown(){return this.tip&&this.tip.classList.contains(qt)}_createPopper(e){const t=j(this._config.placement,[this,e,this._element]),i=Mh[t.toUpperCase()];return Oi(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return j(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,...j(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")w.on(this._element,this.constructor.eventName(Rh),this._config.selector,i=>{const r=this._initializeOnDelegatedTarget(i);r._activeTrigger[$s]=!(r._isShown()&&r._activeTrigger[$s]),r.toggle()});else if(t!==Ah){const i=t===bt?this.constructor.eventName(Dh):this.constructor.eventName(Ph),r=t===bt?this.constructor.eventName(kh):this.constructor.eventName(Nh);w.on(this._element,i,this._config.selector,n=>{const o=this._initializeOnDelegatedTarget(n);o._activeTrigger[n.type==="focusin"?Ms:bt]=!0,o._enter()}),w.on(this._element,r,this._config.selector,n=>{const o=this._initializeOnDelegatedTarget(n);o._activeTrigger[n.type==="focusout"?Ms:bt]=o._element.contains(n.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},w.on(this._element.closest(Ar),Tr,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=fe.getDataAttributes(this._element);for(const i of Object.keys(t))yh.has(i)&&delete t[i];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:we(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=pt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ee(pt);const Fh="popover",Hh=".popover-header",Vh=".popover-body",Bh={...pt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},qh={...pt.DefaultType,content:"(null|string|element|function)"};class Ni extends pt{static get Default(){return Bh}static get DefaultType(){return qh}static get NAME(){return Fh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Hh]:this._getTitle(),[Vh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Ni.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ee(Ni);const Wh="scrollspy",jh="bs.scrollspy",Di=`.${jh}`,Uh=".data-api",Kh=`activate${Di}`,Cr=`click${Di}`,zh=`load${Di}${Uh}`,Yh="dropdown-item",ze="active",Gh='[data-bs-spy="scroll"]',xs="[href]",Qh=".nav, .list-group",Lr=".nav-link",Xh=".nav-item",Jh=".list-group-item",Zh=`${Lr}, ${Xh} > ${Lr}, ${Jh}`,ef=".dropdown",tf=".dropdown-toggle",sf={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rf={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _s extends ne{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return sf}static get DefaultType(){return rf}static get NAME(){return Wh}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=we(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(w.off(this._config.target,Cr),w.on(this._config.target,Cr,xs,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(t(o))},r=(this._rootElement||document.documentElement).scrollTop,n=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(n&&a){if(i(o),!r)return;continue}!n&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=I.find(xs,this._config.target);for(const t of e){if(!t.hash||Se(t))continue;const i=I.findOne(decodeURI(t.hash),this._element);ht(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ze),this._activateParents(e),w.trigger(this._element,Kh,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Yh)){I.findOne(tf,e.closest(ef)).classList.add(ze);return}for(const t of I.parents(e,Qh))for(const i of I.prev(t,Zh))i.classList.add(ze)}_clearActiveClass(e){e.classList.remove(ze);const t=I.find(`${xs}.${ze}`,e);for(const i of t)i.classList.remove(ze)}static jQueryInterface(e){return this.each(function(){const t=_s.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}w.on(window,zh,()=>{for(const s of I.find(Gh))_s.getOrCreateInstance(s)});ee(_s);const nf="tab",of="bs.tab",We=`.${of}`,af=`hide${We}`,lf=`hidden${We}`,cf=`show${We}`,uf=`shown${We}`,df=`click${We}`,hf=`keydown${We}`,ff=`load${We}`,pf="ArrowLeft",Or="ArrowRight",mf="ArrowUp",Ir="ArrowDown",Fs="Home",Rr="End",$e="active",Pr="fade",Hs="show",gf="dropdown",Lo=".dropdown-toggle",vf=".dropdown-menu",Vs=`:not(${Lo})`,bf='.list-group, .nav, [role="tablist"]',_f=".nav-item, .list-group-item",Ef=`.nav-link${Vs}, .list-group-item${Vs}, [role="tab"]${Vs}`,Oo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Bs=`${Ef}, ${Oo}`,yf=`.${$e}[data-bs-toggle="tab"], .${$e}[data-bs-toggle="pill"], .${$e}[data-bs-toggle="list"]`;class ct extends ne{constructor(e){super(e),this._parent=this._element.closest(bf),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),w.on(this._element,hf,t=>this._keydown(t)))}static get NAME(){return nf}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?w.trigger(t,af,{relatedTarget:e}):null;w.trigger(e,cf,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add($e),this._activate(I.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Hs);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),w.trigger(e,uf,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(Pr))}_deactivate(e,t){if(!e)return;e.classList.remove($e),e.blur(),this._deactivate(I.getElementFromSelector(e));const i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Hs);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),w.trigger(e,lf,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(Pr))}_keydown(e){if(![pf,Or,mf,Ir,Fs,Rr].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(r=>!Se(r));let i;if([Fs,Rr].includes(e.key))i=t[e.key===Fs?0:t.length-1];else{const r=[Or,Ir].includes(e.key);i=Ii(t,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),ct.getOrCreateInstance(i).show())}_getChildren(){return I.find(Bs,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=I.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains(gf))return;const r=(n,o)=>{const a=I.findOne(n,i);a&&a.classList.toggle(o,t)};r(Lo,$e),r(vf,Hs),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains($e)}_getInnerElement(e){return e.matches(Bs)?e:I.findOne(Bs,e)}_getOuterElement(e){return e.closest(_f)||e}static jQueryInterface(e){return this.each(function(){const t=ct.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}w.on(document,df,Oo,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!Se(this)&&ct.getOrCreateInstance(this).show()});w.on(window,ff,()=>{for(const s of I.find(yf))ct.getOrCreateInstance(s)});ee(ct);const wf="toast",Sf="bs.toast",Le=`.${Sf}`,Af=`mouseover${Le}`,Tf=`mouseout${Le}`,Cf=`focusin${Le}`,Lf=`focusout${Le}`,Of=`hide${Le}`,If=`hidden${Le}`,Rf=`show${Le}`,Pf=`shown${Le}`,Nf="fade",Nr="hide",Wt="show",jt="showing",Df={animation:"boolean",autohide:"boolean",delay:"number"},kf={animation:!0,autohide:!0,delay:5e3};class Es extends ne{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return kf}static get DefaultType(){return Df}static get NAME(){return wf}show(){if(w.trigger(this._element,Rf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Nf);const t=()=>{this._element.classList.remove(jt),w.trigger(this._element,Pf),this._maybeScheduleHide()};this._element.classList.remove(Nr),Lt(this._element),this._element.classList.add(Wt,jt),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||w.trigger(this._element,Of).defaultPrevented)return;const t=()=>{this._element.classList.add(Nr),this._element.classList.remove(jt,Wt),w.trigger(this._element,If)};this._element.classList.add(jt),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Wt),super.dispose()}isShown(){return this._element.classList.contains(Wt)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){w.on(this._element,Af,e=>this._onInteraction(e,!0)),w.on(this._element,Tf,e=>this._onInteraction(e,!1)),w.on(this._element,Cf,e=>this._onInteraction(e,!0)),w.on(this._element,Lf,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Es.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}gs(Es);ee(Es);function qs(s,e){s.split(/\s+/).forEach(t=>{e(t)})}class Mf{constructor(){this._events={}}on(e,t){qs(e,i=>{const r=this._events[i]||[];r.push(t),this._events[i]=r})}off(e,t){var i=arguments.length;if(i===0){this._events={};return}qs(e,r=>{if(i===1){delete this._events[r];return}const n=this._events[r];n!==void 0&&(n.splice(n.indexOf(t),1),this._events[r]=n)})}trigger(e,...t){var i=this;qs(e,r=>{const n=i._events[r];n!==void 0&&n.forEach(o=>{o.apply(i,t)})})}}function $f(s){return s.plugins={},class extends s{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,t){s.plugins[e]={name:e,fn:t}}initializePlugins(e){var t,i;const r=this,n=[];if(Array.isArray(e))e.forEach(o=>{typeof o=="string"?n.push(o):(r.plugins.settings[o.name]=o.options,n.push(o.name))});else if(e)for(t in e)e.hasOwnProperty(t)&&(r.plugins.settings[t]=e[t],n.push(t));for(;i=n.shift();)r.require(i)}loadPlugin(e){var t=this,i=t.plugins,r=s.plugins[e];if(!s.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=r.fn.apply(t,[t.plugins.settings[e]||{}]),i.names.push(e)}require(e){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(i.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return i.loaded[e]}}}const ys=s=>(s=s.filter(Boolean),s.length<2?s[0]||"":Ff(s)==1?"["+s.join("")+"]":"(?:"+s.join("|")+")"),Io=s=>{if(!xf(s))return s.join("");let e="",t=0;const i=()=>{t>1&&(e+="{"+t+"}")};return s.forEach((r,n)=>{if(r===s[n-1]){t++;return}i(),e+=r,t=1}),i(),e},Ro=s=>{let e=Array.from(s);return ys(e)},xf=s=>new Set(s).size!==s.length,At=s=>(s+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),Ff=s=>s.reduce((e,t)=>Math.max(e,Hf(t)),0),Hf=s=>Array.from(s).length,Po=s=>{if(s.length===1)return[[s]];let e=[];const t=s.substring(1);return Po(t).forEach(function(r){let n=r.slice(0);n[0]=s.charAt(0)+n[0],e.push(n),n=r.slice(0),n.unshift(s.charAt(0)),e.push(n)}),e},Vf=[[0,65535]],Bf="[Ì-Í¯Â·Ê¾Ê¼]";let as,No;const qf=3,ki={},Dr={"/":"ââ",0:"ß",a:"â±¥ÉÉ",aa:"ê³",ae:"Ã¦Ç½Ç£",ao:"êµ",au:"ê·",av:"ê¹ê»",ay:"ê½",b:"ÆÉÆ",c:"ê¿ÆÈ¼â",d:"ÄÉÉá´Æê®·ÔÉ¦",e:"ÉÇá´É",f:"ê¼Æ",g:"Ç¥É ê¡áµ¹ê¿É¢",h:"Ä§â±¨â±¶É¥",i:"É¨Ä±",j:"ÉÈ·",k:"Æâ±ªêêêê£",l:"ÅÆÉ«â±¡êêêÉ­",m:"É±É¯Ï»",n:"ê¥ÆÉ²êá´Ð»Ô",o:"Ã¸Ç¿ÉÉµêêá´",oe:"Å",oi:"Æ£",oo:"ê",ou:"È£",p:"Æ¥áµ½êêêÏ",q:"êêÉ",r:"ÉÉ½êê§ê",s:"ÃÈ¿ê©êÊ",t:"Å§Æ­Êâ±¦ê",th:"Ã¾",tz:"ê©",u:"Ê",v:"ÊêÊ",vy:"ê¡",w:"â±³",y:"Æ´Éá»¿",z:"Æ¶È¥Éâ±¬ê£",hv:"Æ"};for(let s in Dr){let e=Dr[s]||"";for(let t=0;t<e.length;t++){let i=e.substring(t,t+1);ki[i]=s}}const Wf=new RegExp(Object.keys(ki).join("|")+"|"+Bf,"gu"),jf=s=>{as===void 0&&(as=Yf(Vf))},kr=(s,e="NFKD")=>s.normalize(e),ls=s=>Array.from(s).reduce((e,t)=>e+Uf(t),""),Uf=s=>(s=kr(s).toLowerCase().replace(Wf,e=>ki[e]||""),kr(s,"NFC"));function*Kf(s){for(const[e,t]of s)for(let i=e;i<=t;i++){let r=String.fromCharCode(i),n=ls(r);n!=r.toLowerCase()&&(n.length>qf||n.length!=0&&(yield{folded:n,composed:r,code_point:i}))}}const zf=s=>{const e={},t=(i,r)=>{const n=e[i]||new Set,o=new RegExp("^"+Ro(n)+"$","iu");r.match(o)||(n.add(At(r)),e[i]=n)};for(let i of Kf(s))t(i.folded,i.folded),t(i.folded,i.composed);return e},Yf=s=>{const e=zf(s),t={};let i=[];for(let n in e){let o=e[n];o&&(t[n]=Ro(o)),n.length>1&&i.push(At(n))}i.sort((n,o)=>o.length-n.length);const r=ys(i);return No=new RegExp("^"+r,"u"),t},Gf=(s,e=1)=>{let t=0;return s=s.map(i=>(as[i]&&(t+=i.length),as[i]||i)),t>=e?Io(s):""},Qf=(s,e=1)=>(e=Math.max(e,s.length-1),ys(Po(s).map(t=>Gf(t,e)))),Mr=(s,e=!0)=>{let t=s.length>1?1:0;return ys(s.map(i=>{let r=[];const n=e?i.length():i.length()-1;for(let o=0;o<n;o++)r.push(Qf(i.substrs[o]||"",t));return Io(r)}))},Xf=(s,e)=>{for(const t of e){if(t.start!=s.start||t.end!=s.end||t.substrs.join("")!==s.substrs.join(""))continue;let i=s.parts;const r=o=>{for(const a of i){if(a.start===o.start&&a.substr===o.substr)return!1;if(!(o.length==1||a.length==1)&&(o.start<a.start&&o.end>a.start||a.start<o.start&&a.end>o.start))return!0}return!1};if(!(t.parts.filter(r).length>0))return!0}return!1};class cs{parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let i=new cs,r=JSON.parse(JSON.stringify(this.parts)),n=r.pop();for(const l of r)i.add(l);let o=t.substr.substring(0,e-n.start),a=o.length;return i.add({start:n.start,end:n.start+a,length:a,substr:o}),i}}const Jf=s=>{jf(),s=ls(s);let e="",t=[new cs];for(let i=0;i<s.length;i++){let n=s.substring(i).match(No);const o=s.substring(i,i+1),a=n?n[0]:null;let l=[],u=new Set;for(const c of t){const g=c.last();if(!g||g.length==1||g.end<=i)if(a){const f=a.length;c.add({start:i,end:i+f,length:f,substr:a}),u.add("1")}else c.add({start:i,end:i+1,length:1,substr:o}),u.add("2");else if(a){let f=c.clone(i,g);const A=a.length;f.add({start:i,end:i+A,length:A,substr:a}),l.push(f)}else u.add("3")}if(l.length>0){l=l.sort((c,g)=>c.length()-g.length());for(let c of l)Xf(c,t)||t.push(c);continue}if(i>0&&u.size==1&&!u.has("3")){e+=Mr(t,!1);let c=new cs;const g=t[0];g&&c.add(g.last()),t=[c]}}return e+=Mr(t,!0),e},Zf=(s,e)=>{if(s)return s[e]},ep=(s,e)=>{if(s){for(var t,i=e.split(".");(t=i.shift())&&(s=s[t]););return s}},Ws=(s,e,t)=>{var i,r;return!s||(s=s+"",e.regex==null)||(r=s.search(e.regex),r===-1)?0:(i=e.string.length/s.length,r===0&&(i+=.5),i*t)},js=(s,e)=>{var t=s[e];if(typeof t=="function")return t;t&&!Array.isArray(t)&&(s[e]=[t])},Ut=(s,e)=>{if(Array.isArray(s))s.forEach(e);else for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)},tp=(s,e)=>typeof s=="number"&&typeof e=="number"?s>e?1:s<e?-1:0:(s=ls(s+"").toLowerCase(),e=ls(e+"").toLowerCase(),s>e?1:e>s?-1:0);class sp{items;settings;constructor(e,t){this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,i){if(!e||!e.length)return[];const r=[],n=e.split(/\s+/);var o;return i&&(o=new RegExp("^("+Object.keys(i).map(At).join("|")+"):(.*)$")),n.forEach(a=>{let l,u=null,c=null;o&&(l=a.match(o))&&(u=l[1],a=l[2]),a.length>0&&(this.settings.diacritics?c=Jf(a)||null:c=At(a),c&&t&&(c="\\b"+c)),r.push({string:a,regex:c?new RegExp(c,"iu"):null,field:u})}),r}getScoreFunction(e,t){var i=this.prepareSearch(e,t);return this._getScoreFunction(i)}_getScoreFunction(e){const t=e.tokens,i=t.length;if(!i)return function(){return 0};const r=e.options.fields,n=e.weights,o=r.length,a=e.getAttrFn;if(!o)return function(){return 1};const l=(function(){return o===1?function(u,c){const g=r[0].field;return Ws(a(c,g),u,n[g]||1)}:function(u,c){var g=0;if(u.field){const f=a(c,u.field);!u.regex&&f?g+=1/o:g+=Ws(f,u,1)}else Ut(n,(f,A)=>{g+=Ws(a(c,A),u,f)});return g/o}})();return i===1?function(u){return l(t[0],u)}:e.options.conjunction==="and"?function(u){var c,g=0;for(let f of t){if(c=l(f,u),c<=0)return 0;g+=c}return g/i}:function(u){var c=0;return Ut(t,g=>{c+=l(g,u)}),c/i}}getSortFunction(e,t){var i=this.prepareSearch(e,t);return this._getSortFunction(i)}_getSortFunction(e){var t,i=[];const r=this,n=e.options,o=!e.query&&n.sort_empty?n.sort_empty:n.sort;if(typeof o=="function")return o.bind(this);const a=function(u,c){return u==="$score"?c.score:e.getAttrFn(r.items[c.id],u)};if(o)for(let u of o)(e.query||u.field!=="$score")&&i.push(u);if(e.query){t=!0;for(let u of i)if(u.field==="$score"){t=!1;break}t&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(u=>u.field!=="$score");return i.length?function(u,c){var g,f;for(let A of i)if(f=A.field,g=(A.direction==="desc"?-1:1)*tp(a(f,u),a(f,c)),g)return g;return 0}:null}prepareSearch(e,t){const i={};var r=Object.assign({},t);if(js(r,"sort"),js(r,"sort_empty"),r.fields){js(r,"fields");const n=[];r.fields.forEach(o=>{typeof o=="string"&&(o={field:o,weight:1}),n.push(o),i[o.field]="weight"in o?o.weight:1}),r.fields=n}return{options:r,query:e.toLowerCase().trim(),tokens:this.tokenize(e,r.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:r.nesting?ep:Zf}}search(e,t){var i=this,r,n;n=this.prepareSearch(e,t),t=n.options,e=n.query;const o=t.score||i._getScoreFunction(n);e.length?Ut(i.items,(l,u)=>{r=o(l),(t.filter===!1||r>0)&&n.items.push({score:r,id:u})}):Ut(i.items,(l,u)=>{n.items.push({score:1,id:u})});const a=i._getSortFunction(n);return a&&n.items.sort(a),n.total=n.items.length,typeof t.limit=="number"&&(n.items=n.items.slice(0,t.limit)),n}}const se=s=>typeof s>"u"||s===null?null:Jt(s),Jt=s=>typeof s=="boolean"?s?"1":"0":s+"",Us=s=>(s+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),ip=(s,e)=>e>0?window.setTimeout(s,e):(s.call(null),null),rp=(s,e)=>{var t;return function(i,r){var n=this;t&&(n.loading=Math.max(n.loading-1,0),clearTimeout(t)),t=setTimeout(function(){t=null,n.loadedSearches[i]=!0,s.call(n,i,r)},e)}},$r=(s,e,t)=>{var i,r=s.trigger,n={};s.trigger=function(){var o=arguments[0];if(e.indexOf(o)!==-1)n[o]=arguments;else return r.apply(s,arguments)},t.apply(s,[]),s.trigger=r;for(i of e)i in n&&r.apply(s,n[i])},np=s=>({start:s.selectionStart||0,length:(s.selectionEnd||0)-(s.selectionStart||0)}),k=(s,e=!1)=>{s&&(s.preventDefault(),e&&s.stopPropagation())},V=(s,e,t,i)=>{s.addEventListener(e,t,i)},Ne=(s,e)=>{if(!e||!e[s])return!1;var t=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return t===1},Ks=(s,e)=>{const t=s.getAttribute("id");return t||(s.setAttribute("id",e),e)},xr=s=>s.replace(/[\\"']/g,"\\$&"),De=(s,e)=>{e&&s.append(e)},F=(s,e)=>{if(Array.isArray(s))s.forEach(e);else for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)},oe=s=>{if(s.jquery)return s[0];if(s instanceof HTMLElement)return s;if(Do(s)){var e=document.createElement("template");return e.innerHTML=s.trim(),e.content.firstChild}return document.querySelector(s)},Do=s=>typeof s=="string"&&s.indexOf("<")>-1,op=s=>s.replace(/['"\\]/g,"\\$&"),zs=(s,e)=>{var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!1),s.dispatchEvent(t)},Kt=(s,e)=>{Object.assign(s.style,e)},K=(s,...e)=>{var t=ko(e);s=Mo(s),s.map(i=>{t.map(r=>{i.classList.add(r)})})},be=(s,...e)=>{var t=ko(e);s=Mo(s),s.map(i=>{t.map(r=>{i.classList.remove(r)})})},ko=s=>{var e=[];return F(s,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},Mo=s=>(Array.isArray(s)||(s=[s]),s),Ys=(s,e,t)=>{if(!(t&&!t.contains(s)))for(;s&&s.matches;){if(s.matches(e))return s;s=s.parentNode}},Fr=(s,e=0)=>e>0?s[s.length-1]:s[0],ap=s=>Object.keys(s).length===0,Hr=(s,e)=>{if(!s)return-1;e=e||s.nodeName;for(var t=0;s=s.previousElementSibling;)s.matches(e)&&t++;return t},P=(s,e)=>{F(e,(t,i)=>{t==null?s.removeAttribute(i):s.setAttribute(i,""+t)})},ii=(s,e)=>{s.parentNode&&s.parentNode.replaceChild(e,s)},lp=(s,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}const t=n=>{var o=n.data.match(e);if(o&&n.data.length>0){var a=document.createElement("span");a.className="highlight";var l=n.splitText(o.index);l.splitText(o[0].length);var u=l.cloneNode(!0);return a.appendChild(u),ii(l,a),1}return 0},i=n=>{n.nodeType===1&&n.childNodes&&!/(script|style)/i.test(n.tagName)&&(n.className!=="highlight"||n.tagName!=="SPAN")&&Array.from(n.childNodes).forEach(o=>{r(o)})},r=n=>n.nodeType===3?t(n):(i(n),0);r(s)},cp=s=>{var e=s.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(t){var i=t.parentNode;i.replaceChild(t.firstChild,t),i.normalize()})},up=65,dp=13,hp=27,fp=37,pp=38,mp=39,gp=40,Vr=8,vp=46,Br=9,bp=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),zt=bp?"metaKey":"ctrlKey",qr={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(s){return s.length>0},render:{}};function Wr(s,e){var t=Object.assign({},qr,e),i=t.dataAttr,r=t.labelField,n=t.valueField,o=t.disabledField,a=t.optgroupField,l=t.optgroupLabelField,u=t.optgroupValueField,c=s.tagName.toLowerCase(),g=s.getAttribute("placeholder")||s.getAttribute("data-placeholder");if(!g&&!t.allowEmptyOption){let y=s.querySelector('option[value=""]');y&&(g=y.textContent)}var f={placeholder:g,options:[],optgroups:[],items:[],maxItems:null},A=()=>{var y,C=f.options,T={},d=1;let b=0;var h=m=>{var S=Object.assign({},m.dataset),E=i&&S[i];return typeof E=="string"&&E.length&&(S=Object.assign(S,JSON.parse(E))),S},p=(m,S)=>{var E=se(m.value);if(E!=null&&!(!E&&!t.allowEmptyOption)){if(T.hasOwnProperty(E)){if(S){var L=T[E][a];L?Array.isArray(L)?L.push(S):T[E][a]=[L,S]:T[E][a]=S}}else{var O=h(m);O[r]=O[r]||m.textContent,O[n]=O[n]||E,O[o]=O[o]||m.disabled,O[a]=O[a]||S,O.$option=m,O.$order=O.$order||++b,T[E]=O,C.push(O)}m.selected&&f.items.push(E)}},_=m=>{var S,E;E=h(m),E[l]=E[l]||m.getAttribute("label")||"",E[u]=E[u]||d++,E[o]=E[o]||m.disabled,E.$order=E.$order||++b,f.optgroups.push(E),S=E[u],F(m.children,L=>{p(L,S)})};f.maxItems=s.hasAttribute("multiple")?null:1,F(s.children,m=>{y=m.tagName.toLowerCase(),y==="optgroup"?_(m):y==="option"&&p(m)})},v=()=>{const y=s.getAttribute(i);if(y)f.options=JSON.parse(y),F(f.options,T=>{f.items.push(T[n])});else{var C=s.value.trim()||"";if(!t.allowEmptyOption&&!C.length)return;const T=C.split(t.delimiter);F(T,d=>{const b={};b[r]=d,b[n]=d,f.options.push(b)}),f.items=T}};return c==="select"?A():v(),Object.assign({},qr,f,e)}var jr=0;class W extends $f(Mf){constructor(e,t){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,jr++;var i,r=oe(e);if(r.tomselect)throw new Error("Tom Select already initialized on this element");r.tomselect=this;var n=window.getComputedStyle&&window.getComputedStyle(r,null);i=n.getPropertyValue("direction");const o=Wr(r,t);this.settings=o,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag=r.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(i),this.inputId=Ks(r,"tomselect-"+jr),this.isRequired=r.required,this.sifter=new sp(this.options,{diacritics:o.diacritics}),o.mode=o.mode||(o.maxItems===1?"single":"multi"),typeof o.hideSelected!="boolean"&&(o.hideSelected=o.mode==="multi"),typeof o.hidePlaceholder!="boolean"&&(o.hidePlaceholder=o.mode!=="multi");var a=o.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?o.createFilter=C=>a.test(C):o.createFilter=C=>this.settings.duplicates||!this.options[C]),this.initializePlugins(o.plugins),this.setupCallbacks(),this.setupTemplates();const l=oe("<div>"),u=oe("<div>"),c=this._render("dropdown"),g=oe('<div role="listbox" tabindex="-1">'),f=this.input.getAttribute("class")||"",A=o.mode;var v;if(K(l,o.wrapperClass,f,A),K(u,o.controlClass),De(l,u),K(c,o.dropdownClass,A),o.copyClassesToDropdown&&K(c,f),K(g,o.dropdownContentClass),De(c,g),oe(o.dropdownParent||l).appendChild(c),Do(o.controlInput)){v=oe(o.controlInput);var y=["autocorrect","autocapitalize","autocomplete","spellcheck"];F(y,C=>{r.getAttribute(C)&&P(v,{[C]:r.getAttribute(C)})}),v.tabIndex=-1,u.appendChild(v),this.focus_node=v}else o.controlInput?(v=oe(o.controlInput),this.focus_node=v):(v=oe("<input/>"),this.focus_node=u);this.wrapper=l,this.dropdown=c,this.dropdown_content=g,this.control=u,this.control_input=v,this.setup()}setup(){const e=this,t=e.settings,i=e.control_input,r=e.dropdown,n=e.dropdown_content,o=e.wrapper,a=e.control,l=e.input,u=e.focus_node,c={passive:!0},g=e.inputId+"-ts-dropdown";P(n,{id:g}),P(u,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":g});const f=Ks(u,e.inputId+"-ts-control"),A="label[for='"+op(e.inputId)+"']",v=document.querySelector(A),y=e.focus.bind(e);if(v){V(v,"click",y),P(v,{for:f});const d=Ks(v,e.inputId+"-ts-label");P(u,{"aria-labelledby":d}),P(n,{"aria-labelledby":d})}if(o.style.width=l.style.width,e.plugins.names.length){const d="plugin-"+e.plugins.names.join(" plugin-");K([o,r],d)}(t.maxItems===null||t.maxItems>1)&&e.is_select_tag&&P(l,{multiple:"multiple"}),t.placeholder&&P(i,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+At(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=rp(t.load,t.loadThrottle)),V(r,"mousemove",()=>{e.ignoreHover=!1}),V(r,"mouseenter",d=>{var b=Ys(d.target,"[data-selectable]",r);b&&e.onOptionHover(d,b)},{capture:!0}),V(r,"click",d=>{const b=Ys(d.target,"[data-selectable]");b&&(e.onOptionSelect(d,b),k(d,!0))}),V(a,"click",d=>{var b=Ys(d.target,"[data-ts-item]",a);if(b&&e.onItemSelect(d,b)){k(d,!0);return}i.value==""&&(e.onClick(),k(d,!0))}),V(u,"keydown",d=>e.onKeyDown(d)),V(i,"keypress",d=>e.onKeyPress(d)),V(i,"input",d=>e.onInput(d)),V(u,"blur",d=>e.onBlur(d)),V(u,"focus",d=>e.onFocus(d)),V(i,"paste",d=>e.onPaste(d));const C=d=>{const b=d.composedPath()[0];if(!o.contains(b)&&!r.contains(b)){e.isFocused&&e.blur(),e.inputState();return}b==i&&e.isOpen?d.stopPropagation():k(d,!0)},T=()=>{e.isOpen&&e.positionDropdown()};V(document,"mousedown",C),V(window,"scroll",T,c),V(window,"resize",T,c),this._destroy=()=>{document.removeEventListener("mousedown",C),window.removeEventListener("scroll",T),window.removeEventListener("resize",T),v&&v.removeEventListener("click",y)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,V(l,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,l.disabled?e.disable():l.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),K(l,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),t.preload===!0&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),F(t,i=>{this.registerOptionGroup(i)})}setupTemplates(){var e=this,t=e.settings.labelField,i=e.settings.optgroupLabelField,r={optgroup:n=>{let o=document.createElement("div");return o.className="optgroup",o.appendChild(n.options),o},optgroup_header:(n,o)=>'<div class="optgroup-header">'+o(n[i])+"</div>",option:(n,o)=>"<div>"+o(n[t])+"</div>",item:(n,o)=>"<div>"+o(n[t])+"</div>",option_create:(n,o)=>'<div class="create">Add <strong>'+o(n.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},r,e.settings.render)}setupCallbacks(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)t=this.settings[i[e]],t&&this.on(e,t)}sync(e=!0){const t=this,i=e?Wr(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(i.options,i.optgroups),t.setValue(i.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){zs(this.input,"input"),zs(this.input,"change")}onPaste(e){var t=this;if(t.isInputHidden||t.isLocked){k(e);return}t.settings.splitOn&&setTimeout(()=>{var i=t.inputValue();if(i.match(t.settings.splitOn)){var r=i.trim().split(t.settings.splitOn);F(r,n=>{se(n)&&(this.options[n]?t.addItem(n):t.createItem(n))})}},0)}onKeyPress(e){var t=this;if(t.isLocked){k(e);return}var i=String.fromCharCode(e.keyCode||e.which);if(t.settings.create&&t.settings.mode==="multi"&&i===t.settings.delimiter){t.createItem(),k(e);return}}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked){e.keyCode!==Br&&k(e);return}switch(e.keyCode){case up:if(Ne(zt,e)&&t.control_input.value==""){k(e),t.selectAll();return}break;case hp:t.isOpen&&(k(e,!0),t.close()),t.clearActiveItems();return;case gp:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let i=t.getAdjacent(t.activeOption,1);i&&t.setActiveOption(i)}k(e);return;case pp:if(t.activeOption){let i=t.getAdjacent(t.activeOption,-1);i&&t.setActiveOption(i)}k(e);return;case dp:t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),k(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&k(e);return;case fp:t.advanceSelection(-1,e);return;case mp:t.advanceSelection(1,e);return;case Br:t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),k(e)),t.settings.create&&t.createItem()&&k(e));return;case Vr:case vp:t.deleteSelection(e);return}t.isInputHidden&&!Ne(zt,e)&&k(e)}onInput(e){if(this.isLocked)return;const t=this.inputValue();if(this.lastValue!==t){if(this.lastValue=t,t==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=ip(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,i=t.isFocused;if(t.isDisabled||t.isReadOnly){t.blur(),k(e);return}t.ignoreFocus||(t.isFocused=!0,t.settings.preload==="focus"&&t.preload(),i||t.trigger("focus"),t.activeItems.length||(t.inputState(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var i=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,i):i()}}}onOptionSelect(e,t){var i,r=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?r.createItem(null,()=>{r.settings.closeAfterSelect&&r.close()}):(i=t.dataset.value,typeof i<"u"&&(r.lastQuery=null,r.addItem(i),r.settings.closeAfterSelect&&r.close(),!r.settings.hideSelected&&e.type&&/click/.test(e.type)&&r.setActiveOption(t))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var i=this;return!i.isLocked&&i.settings.mode==="multi"?(k(e),i.setActiveItem(t,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){const t=this;if(!t.canLoad(e))return;K(t.wrapper,t.settings.loadingClass),t.loading++;const i=t.loadCallback.bind(t);t.settings.load.call(t,e,i)}loadCallback(e,t){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(e,t),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||be(i.wrapper,i.settings.loadingClass),i.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input,i=t.value!==e;i&&(t.value=e,zs(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){var i=t?[]:["change"];$r(this,i,()=>{this.clear(t),this.addItems(e,t)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var i=this,r,n,o,a,l,u;if(i.settings.mode!=="single"){if(!e){i.clearActiveItems(),i.isFocused&&i.inputState();return}if(r=t&&t.type.toLowerCase(),r==="click"&&Ne("shiftKey",t)&&i.activeItems.length){for(u=i.getLastActive(),o=Array.prototype.indexOf.call(i.control.children,u),a=Array.prototype.indexOf.call(i.control.children,e),o>a&&(l=o,o=a,a=l),n=o;n<=a;n++)e=i.control.children[n],i.activeItems.indexOf(e)===-1&&i.setActiveItemClass(e);k(t)}else r==="click"&&Ne(zt,t)||r==="keydown"&&Ne("shiftKey",t)?e.classList.contains("active")?i.removeActiveItem(e):i.setActiveItemClass(e):(i.clearActiveItems(),i.setActiveItemClass(e));i.inputState(),i.isFocused||i.focus()}}setActiveItemClass(e){const t=this,i=t.control.querySelector(".last-active");i&&be(i,"last-active"),K(e,"active last-active"),t.trigger("item_select",e),t.activeItems.indexOf(e)==-1&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),be(e,"active")}clearActiveItems(){be(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,P(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),P(e,{"aria-selected":"true"}),K(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const i=this.dropdown_content,r=i.clientHeight,n=i.scrollTop||0,o=e.offsetHeight,a=e.getBoundingClientRect().top-i.getBoundingClientRect().top+n;a+o>r+n?this.scroll(a-r+o,t):a<n&&this.scroll(a,t)}scroll(e,t){const i=this.dropdown_content;t&&(i.style.scrollBehavior=t),i.scrollTop=e,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(be(this.activeOption,"active"),P(this.activeOption,{"aria-selected":null})),this.activeOption=null,P(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if(e.settings.mode==="single")return;const t=e.controlChildren();t.length&&(e.inputState(),e.close(),e.activeItems=t,F(t,i=>{e.setActiveItemClass(i)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(P(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&P(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return typeof e.sortField=="string"&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,i,r=this,n=this.getSearchOptions();if(r.settings.score&&(i=r.settings.score.call(r,e),typeof i!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==r.lastQuery?(r.lastQuery=e,t=r.sifter.search(e,Object.assign(n,{score:i})),r.currentResults=t):t=Object.assign({},r.currentResults),r.settings.hideSelected&&(t.items=t.items.filter(o=>{let a=se(o.id);return!(a&&r.items.indexOf(a)!==-1)})),t}refreshOptions(e=!0){var t,i,r,n,o,a,l,u,c,g;const f={},A=[];var v=this,y=v.inputValue();const C=y===v.lastQuery||y==""&&v.lastQuery==null;var T=v.search(y),d=null,b=v.settings.shouldOpen||!1,h=v.dropdown_content;C&&(d=v.activeOption,d&&(c=d.closest("[data-group]"))),n=T.items.length,typeof v.settings.maxOptions=="number"&&(n=Math.min(n,v.settings.maxOptions)),n>0&&(b=!0);const p=(m,S)=>{let E=f[m];if(E!==void 0){let O=A[E];if(O!==void 0)return[E,O.fragment]}let L=document.createDocumentFragment();return E=A.length,A.push({fragment:L,order:S,optgroup:m}),[E,L]};for(t=0;t<n;t++){let m=T.items[t];if(!m)continue;let S=m.id,E=v.options[S];if(E===void 0)continue;let L=Jt(S),O=v.getOption(L,!0);for(v.settings.hideSelected||O.classList.toggle("selected",v.items.includes(L)),o=E[v.settings.optgroupField]||"",a=Array.isArray(o)?o:[o],i=0,r=a&&a.length;i<r;i++){o=a[i];let R=E.$order,N=v.optgroups[o];N===void 0?o="":R=N.$order;const[M,ue]=p(o,R);i>0&&(O=O.cloneNode(!0),P(O,{id:E.$id+"-clone-"+i,"aria-selected":null}),O.classList.add("ts-cloned"),be(O,"active"),v.activeOption&&v.activeOption.dataset.value==S&&c&&c.dataset.group===o.toString()&&(d=O)),ue.appendChild(O),o!=""&&(f[o]=M)}}v.settings.lockOptgroupOrder&&A.sort((m,S)=>m.order-S.order),l=document.createDocumentFragment(),F(A,m=>{let S=m.fragment,E=m.optgroup;if(!S||!S.children.length)return;let L=v.optgroups[E];if(L!==void 0){let O=document.createDocumentFragment(),R=v.render("optgroup_header",L);De(O,R),De(O,S);let N=v.render("optgroup",{group:L,options:O});De(l,N)}else De(l,S)}),h.innerHTML="",De(h,l),v.settings.highlight&&(cp(h),T.query.length&&T.tokens.length&&F(T.tokens,m=>{lp(h,m.regex)}));var _=m=>{let S=v.render(m,{input:y});return S&&(b=!0,h.insertBefore(S,h.firstChild)),S};if(v.loading?_("loading"):v.settings.shouldLoad.call(v,y)?T.items.length===0&&_("no_results"):_("not_loading"),u=v.canCreate(y),u&&(g=_("option_create")),v.hasOptions=T.items.length>0||u,b){if(T.items.length>0){if(!d&&v.settings.mode==="single"&&v.items[0]!=null&&(d=v.getOption(v.items[0])),!h.contains(d)){let m=0;g&&!v.settings.addPrecedence&&(m=1),d=v.selectable()[m]}}else g&&(d=g);e&&!v.isOpen&&(v.open(),v.scrollToOption(d,"auto")),v.setActiveOption(d)}else v.clearActiveOption(),e&&v.isOpen&&v.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const i=this;if(Array.isArray(e))return i.addOptions(e,t),!1;const r=se(e[i.settings.valueField]);return r===null||i.options.hasOwnProperty(r)?!1:(e.$order=e.$order||++i.order,e.$id=i.inputId+"-opt-"+e.$order,i.options[r]=e,i.lastQuery=null,t&&(i.userOptions[r]=t,i.trigger("option_add",r,e)),r)}addOptions(e,t=!1){F(e,i=>{this.addOption(i,t)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=se(e[this.settings.optgroupValueField]);return t===null?!1:(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var i;t[this.settings.optgroupValueField]=e,(i=this.registerOptionGroup(t))&&this.trigger("optgroup_add",i,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const i=this;var r,n;const o=se(e),a=se(t[i.settings.valueField]);if(o===null)return;const l=i.options[o];if(l==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const u=i.getOption(o),c=i.getItem(o);if(t.$order=t.$order||l.$order,delete i.options[o],i.uncacheValue(a),i.options[a]=t,u){if(i.dropdown_content.contains(u)){const g=i._render("option",t);ii(u,g),i.activeOption===u&&i.setActiveOption(g)}u.remove()}c&&(n=i.items.indexOf(o),n!==-1&&i.items.splice(n,1,a),r=i._render("item",t),c.classList.contains("active")&&K(r,"active"),ii(c,r)),i.lastQuery=null}removeOption(e,t){const i=this;e=Jt(e),i.uncacheValue(e),delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};F(this.options,(r,n)=>{t(r,n)&&(i[n]=r)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const i=se(e);if(i===null)return null;const r=this.options[i];if(r!=null){if(r.$div)return r.$div;if(t)return this._render("option",r)}return null}getAdjacent(e,t,i="option"){var r=this,n;if(!e)return null;i=="item"?n=r.controlChildren():n=r.dropdown_content.querySelectorAll("[data-selectable]");for(let o=0;o<n.length;o++)if(n[o]==e)return t>0?n[o+1]:n[o-1];return null}getItem(e){if(typeof e=="object")return e;var t=se(e);return t!==null?this.control.querySelector(`[data-value="${xr(t)}"]`):null}addItems(e,t){var i=this,r=Array.isArray(e)?e:[e];r=r.filter(o=>i.items.indexOf(o)===-1);const n=r[r.length-1];r.forEach(o=>{i.isPending=o!==n,i.addItem(o,t)})}addItem(e,t){var i=t?[]:["change","dropdown_close"];$r(this,i,()=>{var r,n;const o=this,a=o.settings.mode,l=se(e);if(!(l&&o.items.indexOf(l)!==-1&&(a==="single"&&o.close(),a==="single"||!o.settings.duplicates))&&!(l===null||!o.options.hasOwnProperty(l))&&(a==="single"&&o.clear(t),!(a==="multi"&&o.isFull()))){if(r=o._render("item",o.options[l]),o.control.contains(r)&&(r=r.cloneNode(!0)),n=o.isFull(),o.items.splice(o.caretPos,0,l),o.insertAtCaret(r),o.isSetup){if(!o.isPending&&o.settings.hideSelected){let u=o.getOption(l),c=o.getAdjacent(u,1);c&&o.setActiveOption(c)}!o.isPending&&!o.settings.closeAfterSelect&&o.refreshOptions(o.isFocused&&a!=="single"),o.settings.closeAfterSelect!=!1&&o.isFull()?o.close():o.isPending||o.positionDropdown(),o.trigger("item_add",l,r),o.isPending||o.updateOriginalInput({silent:t})}(!o.isPending||!n&&o.isFull())&&(o.inputState(),o.refreshState())}})}removeItem(e=null,t){const i=this;if(e=i.getItem(e),!e)return;var r,n;const o=e.dataset.value;r=Hr(e),e.remove(),e.classList.contains("active")&&(n=i.activeItems.indexOf(e),i.activeItems.splice(n,1),be(e,"active")),i.items.splice(r,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(o)&&i.removeOption(o,t),r<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:t}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",o,e)}createItem(e=null,t=()=>{}){arguments.length===3&&(t=arguments[2]),typeof t!="function"&&(t=()=>{});var i=this,r=i.caretPos,n;if(e=e||i.inputValue(),!i.canCreate(e))return t(),!1;i.lock();var o=!1,a=l=>{if(i.unlock(),!l||typeof l!="object")return t();var u=se(l[i.settings.valueField]);if(typeof u!="string")return t();i.setTextboxValue(),i.addOption(l,!0),i.setCaret(r),i.addItem(u),t(l),o=!0};return typeof i.settings.create=="function"?n=i.settings.create.call(this,e,a):n={[i.settings.labelField]:e,[i.settings.valueField]:e},o||a(n),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),i=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const r=e.wrapper.classList;r.toggle("focus",e.isFocused),r.toggle("disabled",e.isDisabled),r.toggle("readonly",e.isReadOnly),r.toggle("required",e.isRequired),r.toggle("invalid",!e.isValid),r.toggle("locked",i),r.toggle("full",t),r.toggle("input-active",e.isFocused&&!e.isInputHidden),r.toggle("dropdown-active",e.isOpen),r.toggle("has-options",ap(e.options)),r.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var i,r;const n=t.input.querySelector('option[value=""]');if(t.is_select_tag){let u=function(c,g,f){return c||(c=oe('<option value="'+Us(g)+'">'+Us(f)+"</option>")),c!=n&&t.input.append(c),a.push(c),(c!=n||l>0)&&(c.selected=!0),c};var o=u;const a=[],l=t.input.querySelectorAll("option:checked").length;t.input.querySelectorAll("option:checked").forEach(c=>{c.selected=!1}),t.items.length==0&&t.settings.mode=="single"?u(n,"",""):t.items.forEach(c=>{if(i=t.options[c],r=i[t.settings.labelField]||"",a.includes(i.$option)){const g=t.input.querySelector(`option[value="${xr(c)}"]:not(:checked)`);u(g,c,r)}else i.$option=u(i.$option,c,r)})}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,P(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),Kt(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),Kt(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,i=t.isOpen;e&&(t.setTextboxValue(),t.settings.mode==="single"&&t.items.length&&t.inputState()),t.isOpen=!1,P(t.focus_node,{"aria-expanded":"false"}),Kt(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),i&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,t=e.getBoundingClientRect(),i=e.offsetHeight+t.top+window.scrollY,r=t.left+window.scrollX;Kt(this.dropdown,{width:t.width+"px",top:i+"px",left:r+"px"})}}clear(e){var t=this;if(t.items.length){var i=t.controlChildren();F(i,r=>{t.removeItem(r,!0)}),t.inputState(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,i=t.caretPos,r=t.control;r.insertBefore(e,r.children[i]||null),t.setCaret(i+1)}deleteSelection(e){var t,i,r,n,o=this;t=e&&e.keyCode===Vr?-1:1,i=np(o.control_input);const a=[];if(o.activeItems.length)n=Fr(o.activeItems,t),r=Hr(n),t>0&&r++,F(o.activeItems,l=>a.push(l));else if((o.isFocused||o.settings.mode==="single")&&o.items.length){const l=o.controlChildren();let u;t<0&&i.start===0&&i.length===0?u=l[o.caretPos-1]:t>0&&i.start===o.inputValue().length&&(u=l[o.caretPos]),u!==void 0&&a.push(u)}if(!o.shouldDelete(a,e))return!1;for(k(e,!0),typeof r<"u"&&o.setCaret(r);a.length;)o.removeItem(a.pop());return o.inputState(),o.positionDropdown(),o.refreshOptions(!1),!0}shouldDelete(e,t){const i=e.map(r=>r.dataset.value);return!(!i.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(i,t)===!1)}advanceSelection(e,t){var i,r,n=this;n.rtl&&(e*=-1),!n.inputValue().length&&(Ne(zt,t)||Ne("shiftKey",t)?(i=n.getLastActive(e),i?i.classList.contains("active")?r=n.getAdjacent(i,e,"item"):r=i:e>0?r=n.control_input.nextElementSibling:r=n.control_input.previousElementSibling,r&&(r.classList.contains("active")&&n.removeActiveItem(i),n.setActiveItemClass(r))):n.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var i=this.control.querySelectorAll(".active");if(i)return Fr(i,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,be(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var i,r;const n=this;if(typeof this.settings.render[e]!="function"||(r=n.settings.render[e].call(this,t,Us),!r))return null;if(r=oe(r),e==="option"||e==="option_create"?t[n.settings.disabledField]?P(r,{"aria-disabled":"true"}):P(r,{"data-selectable":""}):e==="optgroup"&&(i=t.group[n.settings.optgroupValueField],P(r,{"data-group":i}),t.group[n.settings.disabledField]&&P(r,{"data-disabled":""})),e==="option"||e==="item"){const o=Jt(t[n.settings.valueField]);P(r,{"data-value":o}),e==="item"?(K(r,n.settings.itemClass),P(r,{"data-ts-item":""})):(K(r,n.settings.optionClass),P(r,{role:"option",id:t.$id}),t.$div=r,n.options[o]=t)}return r}_render(e,t){const i=this.render(e,t);if(i==null)throw"HTMLElement expected";return i}clearCache(){F(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,i){var r=this,n=r[t];r[t]=function(){var o,a;return e==="after"&&(o=n.apply(r,arguments)),a=i.apply(r,arguments),e==="instead"?a:(e==="before"&&(o=n.apply(r,arguments)),o)}}}const _p=(s,e,t,i)=>{s.addEventListener(e,t,i)};function Ep(){_p(this.input,"change",()=>{this.sync()})}const yp=s=>typeof s>"u"||s===null?null:wp(s),wp=s=>typeof s=="boolean"?s?"1":"0":s+"",Ur=(s,e=!1)=>{s&&(s.preventDefault(),e&&s.stopPropagation())},Sp=s=>{if(s.jquery)return s[0];if(s instanceof HTMLElement)return s;if(Ap(s)){var e=document.createElement("template");return e.innerHTML=s.trim(),e.content.firstChild}return document.querySelector(s)},Ap=s=>typeof s=="string"&&s.indexOf("<")>-1;function Tp(s){var e=this,t=e.onOptionSelect;e.settings.hideSelected=!1;const i=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},s);var r=function(a,l){l?(a.checked=!0,i.uncheckedClassNames&&a.classList.remove(...i.uncheckedClassNames),i.checkedClassNames&&a.classList.add(...i.checkedClassNames)):(a.checked=!1,i.checkedClassNames&&a.classList.remove(...i.checkedClassNames),i.uncheckedClassNames&&a.classList.add(...i.uncheckedClassNames))},n=function(a){setTimeout(()=>{var l=a.querySelector("input."+i.className);l instanceof HTMLInputElement&&r(l,a.classList.contains("selected"))},1)};e.hook("after","setupTemplates",()=>{var o=e.settings.render.option;e.settings.render.option=(a,l)=>{var u=Sp(o.call(e,a,l)),c=document.createElement("input");i.className&&c.classList.add(i.className),c.addEventListener("click",function(f){Ur(f)}),c.type="checkbox";const g=yp(a[e.settings.valueField]);return r(c,!!(g&&e.items.indexOf(g)>-1)),u.prepend(c),u}}),e.on("item_remove",o=>{var a=e.getOption(o);a&&(a.classList.remove("selected"),n(a))}),e.on("item_add",o=>{var a=e.getOption(o);a&&n(a)}),e.hook("instead","onOptionSelect",(o,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),e.removeItem(a.dataset.value),e.refreshOptions(),Ur(o,!0);return}t.call(e,o,a),n(a)})}const Cp=s=>{if(s.jquery)return s[0];if(s instanceof HTMLElement)return s;if(Lp(s)){var e=document.createElement("template");return e.innerHTML=s.trim(),e.content.firstChild}return document.querySelector(s)},Lp=s=>typeof s=="string"&&s.indexOf("<")>-1;function Op(s){const e=this,t=Object.assign({className:"clear-button",title:"Clear All",html:i=>`<div class="${i.className}" title="${i.title}">&#10799;</div>`},s);e.on("initialize",()=>{var i=Cp(t.html(t));i.addEventListener("click",r=>{e.isLocked||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),r.preventDefault(),r.stopPropagation())}),e.control.appendChild(i)})}const Ip=(s,e=!1)=>{s&&(s.preventDefault(),e&&s.stopPropagation())},Ye=(s,e,t,i)=>{s.addEventListener(e,t,i)},Rp=(s,e)=>{if(Array.isArray(s))s.forEach(e);else for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)},Pp=s=>{if(s.jquery)return s[0];if(s instanceof HTMLElement)return s;if(Np(s)){var e=document.createElement("template");return e.innerHTML=s.trim(),e.content.firstChild}return document.querySelector(s)},Np=s=>typeof s=="string"&&s.indexOf("<")>-1,Dp=(s,e)=>{Rp(e,(t,i)=>{t==null?s.removeAttribute(i):s.setAttribute(i,""+t)})},kp=(s,e)=>{var t;(t=s.parentNode)==null||t.insertBefore(e,s.nextSibling)},Mp=(s,e)=>{var t;(t=s.parentNode)==null||t.insertBefore(e,s)},$p=(s,e)=>{do{var t;if(e=(t=e)==null?void 0:t.previousElementSibling,s==e)return!0}while(e&&e.previousElementSibling);return!1};function xp(){var s=this;if(s.settings.mode!=="multi")return;var e=s.lock,t=s.unlock;let i=!0,r;s.hook("after","setupTemplates",()=>{var n=s.settings.render.item;s.settings.render.item=(o,a)=>{const l=Pp(n.call(s,o,a));Dp(l,{draggable:"true"});const u=y=>{i||Ip(y),y.stopPropagation()},c=y=>{r=l,setTimeout(()=>{l.classList.add("ts-dragging")},0)},g=y=>{y.preventDefault(),l.classList.add("ts-drag-over"),A(l,r)},f=()=>{l.classList.remove("ts-drag-over")},A=(y,C)=>{C!==void 0&&($p(C,l)?kp(y,C):Mp(y,C))},v=()=>{var y;document.querySelectorAll(".ts-drag-over").forEach(T=>T.classList.remove("ts-drag-over")),(y=r)==null||y.classList.remove("ts-dragging"),r=void 0;var C=[];s.control.querySelectorAll("[data-value]").forEach(T=>{if(T.dataset.value){let d=T.dataset.value;d&&C.push(d)}}),s.setValue(C)};return Ye(l,"mousedown",u),Ye(l,"dragstart",c),Ye(l,"dragenter",g),Ye(l,"dragover",g),Ye(l,"dragleave",f),Ye(l,"dragend",v),l}}),s.hook("instead","lock",()=>(i=!1,e.call(s))),s.hook("instead","unlock",()=>(i=!0,t.call(s)))}const Fp=(s,e=!1)=>{s&&(s.preventDefault(),e&&s.stopPropagation())},Hp=s=>{if(s.jquery)return s[0];if(s instanceof HTMLElement)return s;if(Vp(s)){var e=document.createElement("template");return e.innerHTML=s.trim(),e.content.firstChild}return document.querySelector(s)},Vp=s=>typeof s=="string"&&s.indexOf("<")>-1;function Bp(s){const e=this,t=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i=>'<div class="'+i.headerClass+'"><div class="'+i.titleRowClass+'"><span class="'+i.labelClass+'">'+i.title+'</span><a class="'+i.closeClass+'">&times;</a></div></div>'},s);e.on("initialize",()=>{var i=Hp(t.html(t)),r=i.querySelector("."+t.closeClass);r&&r.addEventListener("click",n=>{Fp(n,!0),e.close()}),e.dropdown.insertBefore(i,e.dropdown.firstChild)})}const qp=(s,e)=>{if(Array.isArray(s))s.forEach(e);else for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)},Wp=(s,...e)=>{var t=jp(e);s=Up(s),s.map(i=>{t.map(r=>{i.classList.remove(r)})})},jp=s=>{var e=[];return qp(s,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},Up=s=>(Array.isArray(s)||(s=[s]),s),Kp=(s,e)=>{if(!s)return-1;e=e||s.nodeName;for(var t=0;s=s.previousElementSibling;)s.matches(e)&&t++;return t};function zp(){var s=this;s.hook("instead","setCaret",e=>{s.settings.mode==="single"||!s.control.contains(s.control_input)?e=s.items.length:(e=Math.max(0,Math.min(s.items.length,e)),e!=s.caretPos&&!s.isPending&&s.controlChildren().forEach((t,i)=>{i<e?s.control_input.insertAdjacentElement("beforebegin",t):s.control.appendChild(t)})),s.caretPos=e}),s.hook("instead","moveCaret",e=>{if(!s.isFocused)return;const t=s.getLastActive(e);if(t){const i=Kp(t);s.setCaret(e>0?i+1:i),s.setActiveItem(),Wp(t,"last-active")}else s.setCaret(s.caretPos+e)})}const Yp=27,Gp=9,Qp=(s,e=!1)=>{s&&(s.preventDefault(),e&&s.stopPropagation())},Xp=(s,e,t,i)=>{s.addEventListener(e,t,i)},Jp=(s,e)=>{if(Array.isArray(s))s.forEach(e);else for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)},Kr=s=>{if(s.jquery)return s[0];if(s instanceof HTMLElement)return s;if(Zp(s)){var e=document.createElement("template");return e.innerHTML=s.trim(),e.content.firstChild}return document.querySelector(s)},Zp=s=>typeof s=="string"&&s.indexOf("<")>-1,em=(s,...e)=>{var t=tm(e);s=sm(s),s.map(i=>{t.map(r=>{i.classList.add(r)})})},tm=s=>{var e=[];return Jp(s,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},sm=s=>(Array.isArray(s)||(s=[s]),s);function im(){const s=this;s.settings.shouldOpen=!0,s.hook("before","setup",()=>{s.focus_node=s.control,em(s.control_input,"dropdown-input");const e=Kr('<div class="dropdown-input-wrap">');e.append(s.control_input),s.dropdown.insertBefore(e,s.dropdown.firstChild);const t=Kr('<input class="items-placeholder" tabindex="-1" />');t.placeholder=s.settings.placeholder||"",s.control.append(t)}),s.on("initialize",()=>{s.control_input.addEventListener("keydown",t=>{switch(t.keyCode){case Yp:s.isOpen&&(Qp(t,!0),s.close()),s.clearActiveItems();return;case Gp:s.focus_node.tabIndex=-1;break}return s.onKeyDown.call(s,t)}),s.on("blur",()=>{s.focus_node.tabIndex=s.isDisabled?-1:s.tabIndex}),s.on("dropdown_open",()=>{s.control_input.focus()});const e=s.onBlur;s.hook("instead","onBlur",t=>{if(!(t&&t.relatedTarget==s.control_input))return e.call(s)}),Xp(s.control_input,"blur",()=>s.onBlur()),s.hook("before","close",()=>{s.isOpen&&s.focus_node.focus({preventScroll:!0})})})}const Yt=(s,e,t,i)=>{s.addEventListener(e,t,i)};function rm(){var s=this;s.on("initialize",()=>{var e=document.createElement("span"),t=s.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",s.wrapper.appendChild(e);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const n of i)e.style[n]=t.style[n];var r=()=>{e.textContent=t.value,t.style.width=e.clientWidth+"px"};r(),s.on("update item_add item_remove",r),Yt(t,"input",r),Yt(t,"keyup",r),Yt(t,"blur",r),Yt(t,"update",r)})}function nm(){var s=this,e=s.deleteSelection;this.hook("instead","deleteSelection",t=>s.activeItems.length?e.call(s,t):!1)}function om(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const zr=37,am=39,lm=(s,e,t)=>{for(;s&&s.matches;){if(s.matches(e))return s;s=s.parentNode}},cm=(s,e)=>{if(!s)return-1;e=e||s.nodeName;for(var t=0;s=s.previousElementSibling;)s.matches(e)&&t++;return t};function um(){var s=this,e=s.onKeyDown;s.hook("instead","onKeyDown",t=>{var i,r,n,o;if(!s.isOpen||!(t.keyCode===zr||t.keyCode===am))return e.call(s,t);s.ignoreHover=!0,o=lm(s.activeOption,"[data-group]"),i=cm(s.activeOption,"[data-selectable]"),o&&(t.keyCode===zr?o=o.previousSibling:o=o.nextSibling,o&&(n=o.querySelectorAll("[data-selectable]"),r=n[Math.min(n.length-1,i)],r&&s.setActiveOption(r)))})}const dm=s=>(s+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Yr=(s,e=!1)=>{s&&(s.preventDefault(),e&&s.stopPropagation())},Gr=(s,e,t,i)=>{s.addEventListener(e,t,i)},Qr=s=>{if(s.jquery)return s[0];if(s instanceof HTMLElement)return s;if(hm(s)){var e=document.createElement("template");return e.innerHTML=s.trim(),e.content.firstChild}return document.querySelector(s)},hm=s=>typeof s=="string"&&s.indexOf("<")>-1;function fm(s){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},s);var t=this;if(e.append){var i='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+dm(e.title)+'">'+e.label+"</a>";t.hook("after","setupTemplates",()=>{var r=t.settings.render.item;t.settings.render.item=(n,o)=>{var a=Qr(r.call(t,n,o)),l=Qr(i);return a.appendChild(l),Gr(l,"mousedown",u=>{Yr(u,!0)}),Gr(l,"click",u=>{t.isLocked||(Yr(u,!0),!t.isLocked&&t.shouldDelete([a],u)&&(t.removeItem(a),t.refreshOptions(!1),t.inputState()))}),a}})}}function pm(s){const e=this,t=Object.assign({text:i=>i[e.settings.labelField]},s);e.on("item_remove",function(i){if(e.isFocused&&e.control_input.value.trim()===""){var r=e.options[i];r&&e.setTextboxValue(t.text.call(e,r))}})}const mm=(s,e)=>{if(Array.isArray(s))s.forEach(e);else for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)},gm=(s,...e)=>{var t=vm(e);s=bm(s),s.map(i=>{t.map(r=>{i.classList.add(r)})})},vm=s=>{var e=[];return mm(s,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},bm=s=>(Array.isArray(s)||(s=[s]),s);function _m(){const s=this,e=s.canLoad,t=s.clearActiveOption,i=s.loadCallback;var r={},n,o=!1,a,l=[];if(s.settings.shouldLoadMore||(s.settings.shouldLoadMore=()=>{if(n.clientHeight/(n.scrollHeight-n.scrollTop)>.9)return!0;if(s.activeOption){var f=s.selectable(),A=Array.from(f).indexOf(s.activeOption);if(A>=f.length-2)return!0}return!1}),!s.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";s.settings.sortField=[{field:"$order"},{field:"$score"}];const u=g=>typeof s.settings.maxOptions=="number"&&n.children.length>=s.settings.maxOptions?!1:!!(g in r&&r[g]),c=(g,f)=>s.items.indexOf(f)>=0||l.indexOf(f)>=0;s.setNextUrl=(g,f)=>{r[g]=f},s.getUrl=g=>{if(g in r){const f=r[g];return r[g]=!1,f}return s.clearPagination(),s.settings.firstUrl.call(s,g)},s.clearPagination=()=>{r={}},s.hook("instead","clearActiveOption",()=>{if(!o)return t.call(s)}),s.hook("instead","canLoad",g=>g in r?u(g):e.call(s,g)),s.hook("instead","loadCallback",(g,f)=>{if(!o)s.clearOptions(c);else if(a){const A=g[0];A!==void 0&&(a.dataset.value=A[s.settings.valueField])}i.call(s,g,f),o=!1}),s.hook("after","refreshOptions",()=>{const g=s.lastValue;var f;u(g)?(f=s.render("loading_more",{query:g}),f&&(f.setAttribute("data-selectable",""),a=f)):g in r&&!n.querySelector(".no-results")&&(f=s.render("no_more_results",{query:g})),f&&(gm(f,s.settings.optionClass),n.append(f))}),s.on("initialize",()=>{l=Object.keys(s.options),n=s.dropdown_content,s.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},s.settings.render),n.addEventListener("scroll",()=>{s.settings.shouldLoadMore.call(s)&&u(s.lastValue)&&(o||(o=!0,s.load.call(s,s.lastValue)))})})}W.define("change_listener",Ep);W.define("checkbox_options",Tp);W.define("clear_button",Op);W.define("drag_drop",xp);W.define("dropdown_header",Bp);W.define("caret_position",zp);W.define("dropdown_input",im);W.define("input_autogrow",rm);W.define("no_backspace_delete",nm);W.define("no_active_items",om);W.define("optgroup_columns",um);W.define("remove_button",fm);W.define("restore_on_backspace",pm);W.define("virtual_scroll",_m);document.addEventListener("click",function(s){const e=s.target.closest(".add-collection-widget");if(e){s.preventDefault();const i=document.querySelector(e.dataset.listSelector);if(!i){console.error(`Element not found: ${e.dataset.listSelector}`);return}const r=i.dataset.prototype;let n=parseInt(i.dataset.widgetCounter)||i.children.length;const o=r.replace(/__name__/g,n);i.dataset.widgetCounter=n+1,i.insertAdjacentHTML("beforeend",o);return}const t=s.target.closest(".remove-collection-widget");if(t){s.preventDefault();const i=t.closest(".list-group-item");i&&i.remove();return}});document.addEventListener("change",s=>{const e=s.target;if(e.tagName!=="SELECT"||!e.id.includes("categorie")&&!e.id.includes("categorieParent"))return;const t=document.getElementById("category-container"),i=document.getElementById("produit_categorie"),r=document.getElementById("produit_categorieParent");!r||!t||!i||(console.log("Category selection logic triggered for:",e.id),Em(e,t,i,r))});function Em(s,e,t,i){const r=s.value;if(console.log(`Category changed. Selected ID: ${r}`,s),s.id==="produit_categorieParent")e.innerHTML="",console.log("Main category changed, clearing sub-category container.");else{let o=s.closest(".mb-3");if(o){let a=o.nextElementSibling;for(;a;){const l=a;a=a.nextElementSibling,l.remove(),console.log("Removing subsequent sub-category select.")}}}if(r)t.value=r,console.log(`Final category value set to: ${r}`);else{let o=null;const a=s.closest(".mb-3");s.id==="produit_categorieParent"?o=null:a&&a.previousElementSibling&&(o=a.previousElementSibling.querySelector("select")),o||(o=i),t.value=o?o.value:"",console.log(`Selection cleared. Final category value set to: ${t.value}`)}if(!r)return;const n=`/produit/categorie/subcategories/${r}`;console.log(`Fetching subcategories from: ${n}`),fetch(n).then(o=>{if(!o.ok)throw new Error(`Network response was not ok: ${o.statusText}`);return o.json()}).then(o=>{o.length>0?(ym(o,e),t.value="",console.log("Subcategories found. Final category value cleared.")):console.log("No subcategories found. This is the final selection.")}).catch(o=>{console.error("Fetch error:",o)})}function ym(s,e,t){const i=e.children.length+1;console.log(`Creating sub-category select for level ${i}`);const r=document.createElement("div");r.classList.add("mb-3");const n=document.createElement("select");n.classList.add("form-select"),n.id=`produit_categorie_level_${i}`;const o=document.createElement("option");o.value="",o.textContent=`SÃ©lectionnez une sous-catÃ©gorie (Niveau ${i})`,n.appendChild(o),s.forEach(a=>{const l=document.createElement("option");l.value=a.id,l.textContent=a.nom,n.appendChild(l)}),r.appendChild(n),e.appendChild(r)}document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelectorAll(".js-numeric-input"),e=r=>{r&&r.addEventListener("input",n=>{let o=n.target.value;o=o.replace(/[^0-9.]/g,"");const a=o.indexOf(".");if(a!==-1){const l=o.indexOf(".",a+1);l!==-1&&(o=o.substring(0,l))}n.target.value=o})};s.forEach(e);const t=document.querySelectorAll(".js-format-thousands"),i=r=>{r&&r.addEventListener("input",n=>{let a=n.target.value.replace(/[^\d,.]/g,"").replace(",",".");const l=a.split(".");if(l.length>2&&(a=l[0]+"."+l.slice(1).join("")),a===""){n.target.value="";return}const[u,c]=a.split(".");let f=u.replace(/\B(?=(\d{3})+(?!\d))/g,"Â ");c!==void 0&&(f+=","+c.substring(0,2)),n.target.value!==f&&(n.target.value=f)})};t.forEach(i)});document.addEventListener("turbo:load",()=>{document.querySelectorAll(".tom-select").forEach(s=>{s.tomselect||new W(s,{create:!1,plugins:["dropdown_input"]})})});document.addEventListener("turbo:before-cache",()=>{const s=document.querySelector(".sf-toolbar");s&&s.remove()});
