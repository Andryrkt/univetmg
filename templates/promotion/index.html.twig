{% extends 'base.html.twig' %}

{% block title %}Gestion des Promotions{% endblock %}

{% block body %}
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>Promotions</h1>
            <a href="{{ path('app_promotion_new') }}" class="btn btn-primary">Nouvelle Promotion</a>
        </div>

        <ul class="nav nav-tabs mb-4" id="promotionTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="active-tab" data-bs-toggle="tab" data-bs-target="#active" type="button" role="tab">Actives ({{ promotions_actives|length }})</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="upcoming-tab" data-bs-toggle="tab" data-bs-target="#upcoming" type="button" role="tab">À venir ({{ promotions_a_venir|length }})</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="expired-tab" data-bs-toggle="tab" data-bs-target="#expired" type="button" role="tab">Expirées ({{ promotions_expirees|length }})</button>
            </li>
        </ul>

        <div class="tab-content" id="promotionTabsContent">
            <div class="tab-pane fade show active" id="active" role="tabpanel">
                {{ include('promotion/_list.html.twig', {'promotions': promotions_actives, 'status': 'active'}) }}
            </div>
            <div class="tab-pane fade" id="upcoming" role="tabpanel">
                {{ include('promotion/_list.html.twig', {'promotions': promotions_a_venir, 'status': 'upcoming'}) }}
            </div>
            <div class="tab-pane fade" id="expired" role="tabpanel">
                {{ include('promotion/_list.html.twig', {'promotions': promotions_expirees, 'status': 'expired'}) }}
            </div>
        </div>
    </div>
{% endblock %}
